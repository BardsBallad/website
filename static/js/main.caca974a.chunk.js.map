{"version":3,"sources":["serviceWorker.js","components/Button.js","components/Text.js","api.js","views/Login.js","views/Signup.js","components/requireAuth.js","modals/StringEdit.js","modals/NumberEdit.js","modals/Modal.js","modals/Modals.js","reducers/ui.js","components/SlideOut.js","utility/api.js","reducers/modals.js","modals/Loading.js","reducers/characters.js","components/Header.js","assets/delete.svg","data/levels.js","components/Character.js","views/Characters.js","components/DesktopTabs.js","modals/SideInfo/ChangeName.js","components/CharacterName.js","modals/SideInfo/ChangeClass.js","components/CharacterClass.js","modals/SideInfo/Health.js","components/HP.js","modals/SideInfo/Experience.js","components/EXP.js","components/ArmorClass.js","components/Speed.js","components/Initiative.js","components/Proficiency.js","components/PassivePerception.js","components/HitDice.js","helpers.js","components/Bonus.js","components/Stat.js","components/SideInfo.js","tabs/InfoTab.js","components/SavingThrow.js","components/SavingThrows.js","modals/SelectProficiency.js","data/skills.js","components/Skill.js","components/Skills.js","tabs/SkillsTab.js","components/ListSection.js","components/SpellSlots.js","data/constants.js","components/Spell.js","components/Select.js","modals/AddSpell/EditSpell.js","components/Search.js","modals/AddSpell/Search.js","modals/AddSpell/index.js","assets/edit.svg","components/ItemOptions.js","modals/SpellInfo.js","tabs/SpellsTab.js","components/Item.js","modals/AddItem/EditItem.js","modals/AddItem/Search.js","modals/AddItem/index.js","modals/ItemInfo.js","tabs/EquipmentTab.js","tabs/CombatTab.js","components/Clamp.js","components/Feature.js","modals/AddFeature/EditFeature.js","modals/AddFeature/Search.js","modals/AddFeature/index.js","modals/FeatureInfo.js","tabs/FeaturesAndTraits.js","components/CharFooter.js","views/Character.js","views/Home.js","Routes.js","reducers/user.js","reducers/index.js","store.js","index.js","theme.js"],"names":["Boolean","window","location","hostname","match","Button","styled","button","_templateObject","props","theme","green","text","disabled","css","_templateObject2","Text","p","Text_templateObject","color","api","ApiService","Object","classCallCheck","this","domain","fetch","bind","loadCharacters","loadCharacter","login","signup","getProfile","id","data","concat","method","body","JSON","stringify","then","res","Promise","resolve","email","password","_this","setToken","token","_this2","getToken","isTokenExpired","decode","exp","Date","now","err","idToken","localStorage","setItem","getItem","removeItem","url","options","headers","Accept","Content-Type","loggedIn","_objectSpread","_checkStatus","response","json","status","console","log","error","Error","T","Login_templateObject","BackDrop","div","Login_templateObject2","Header","_templateObject3","gold","Link","L","_templateObject4","Input","input","_templateObject5","first","Form","form","_templateObject6","Login","possibleConstructorReturn","getPrototypeOf","call","state","handleEmail","assertThisInitialized","handlePass","handleLogin","history","replace","event","setState","target","value","_this$state","resp","catch","alert","preventDefault","react_default","a","createElement","onSubmit","Login_Header","placeholder","type","onChange","components_Button","onClick","Login_Text","to","Component","Signup_templateObject","middleblack","Signup_templateObject2","Signup_templateObject3","Signup_templateObject4","Signup_templateObject5","Signup","handleSignup","Signup_BackDrop","Signup_Form","Signup_Header","Signup_Input","components_Text","Signup_Link","withAuth","AuthComponent","_Component","AuthWrapped","user","inherits","createClass","key","profile","logout","StringEdit_templateObject","Container","StringEdit_templateObject2","light","Title","StringEdit_templateObject3","Row","StringEdit_templateObject4","StringEdit_templateObject5","cancel","red","StringEdit_templateObject6","dark","StringEdit","defaultValue","handleEdit","_this$props","title","onCancel","onConfirm","StringEdit_BackDrop","e","stopPropagation","StringEdit_Input","StringEdit_Button","NumberEdit_templateObject","NumberEdit_templateObject2","NumberEdit_templateObject3","NumberEdit_templateObject4","NumberEdit_templateObject5","NumberEdit_templateObject6","NumberEdit","min","max","NumberEdit_BackDrop","NumberEdit_Container","NumberEdit_Title","NumberEdit_Input","NumberEdit_Row","NumberEdit_Button","Overlay","Modal_templateObject","Content","Modal_templateObject2","Modal","item","onClose","className","modals_StringEdit","modals_NumberEdit","content","onMouseDown","requestClose","custom","Modals_templateObject","modals","length","Modals","Modals_Container","map","i","modals_Modal","zIndex","connect","editItem","dispatch","payload","toggleSideNav","actions","_ref","assign","editing","_ref2","creatingCharacter","creationStage","_ref3","stage","_ref4","itemID","overlay","_ref5","featID","_ref6","spellID","_ref7","level","slotsLevel","isSideNavOpen","initialState","SlideOut_templateObject","almostblack","MenuItem","SlideOut_templateObject2","SlideOut","open","SlideOut_Container","isOpen","ui","utility_api","api_objectSpread","openModal","obj","closeModal","modals_objectSpread","filter","Backdrop","Loading_templateObject","spin","keyframes","Loading_templateObject2","Loader","Loading_templateObject3","grey","Loading","characters","loaded","character","cloneDeep","char","_id","_ref8","toConsumableArray","_ref9","_ref10","_ref10$payload","path","newstate","update","empty","nanoid","lowercased","merge","feats","name","uses","description","new","_ref11","_ref11$payload","characters_objectSpread","isUpdated","f","push","_ref12","spells","school","castingTime","range","verbal","somatic","material","concentration","ritual","duration","_ref13","_ref13$payload","s","_ref14","keys","_ref15","_ref16","count","successesSaves","second","third","deathsaves","success","_ref17","deathSaves","newState","fails","header","Header_templateObject","Header_templateObject2","MenuIcon","FaBars","Header_templateObject3","NavButton","bgStyles","_this$props$leftClick","leftClick","_this$props$LeftCompo","LeftComponent","_this$props$title","_this$props$RightComp","RightComponent","_this$props$rightClic","rightClick","Header_Container","style","Header_Title","_extends","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","delete_ref2","d","fill","fillOpacity","delete_SvgDelete","svgRef","viewBox","height","width","ref","transform","touchAction","ForwardRef","forwardRef","getLevel","__webpack_require__","moreThanLevels","levels","lvl","prof","Character_templateObject","OptionsButton","Character_templateObject2","Name","Character_templateObject3","Character","job","Character_Container","Tab","Characters_templateObject","Characters_templateObject2","CreateCharacter","Characters_templateObject3","Characters","loadAll","createCharacter","deleteCharacter","components_Header","Characters_Container","Array","from","reverse","components_Character","withRouter","startCharacterCreation","changeCharacterCreationStage","TabsContainer","DesktopTabs_templateObject","DesktopTabs_templateObject2","active","DesktopTabs_templateObject3","DesktopTabs","selectedTab","changeTab","DesktopTabs_Tab","ChangeName_templateObject","ChangeName_templateObject2","ChangeName_templateObject3","ChangeName_templateObject4","ChangeName_templateObject5","ChangeName_templateObject6","ChangeName","handleName","confirmChange","syncData","characterID","ChangeName_BackDrop","ChangeName_Container","ChangeName_Title","ChangeName_Input","ChangeName_Row","ChangeName_Button","CharacterName_templateObject","CharacterName","changeName","SideInfo_ChangeName","CharacterName_Text","ChangeClass_templateObject","ChangeClass_templateObject2","ChangeClass_templateObject3","ChangeClass_templateObject4","ChangeClass_templateObject5","ChangeClass_templateObject6","ChangeClass","handleClass","ChangeClass_BackDrop","ChangeClass_Container","ChangeClass_Title","ChangeClass_Input","ChangeClass_Row","ChangeClass_Button","CharacterClass_templateObject","CharacterClass","changeClass","SideInfo_ChangeClass","CharacterClass_Text","Health_templateObject","Health_templateObject2","Health_templateObject3","Health_templateObject4","Health_templateObject5","Health_templateObject6","Health","current","temp","handleCurrent","handleMax","handleTemp","hp","_this$state2","Health_BackDrop","Health_Container","Health_Title","Health_Row","Health_Input","Health_Button","HP_templateObject","BarContainer","HP_templateObject2","BarFiller","HP_templateObject3","HP_templateObject4","DesktopText","HP_templateObject5","MobileText","HP_templateObject6","determinPercent","undefined","HP","editHP","SideInfo_Health","_this$props2","tempRender","hpRender","HP_Container","Experience_templateObject","Experience_templateObject2","Experience_templateObject3","Experience_templateObject4","Experience_templateObject5","Experience_templateObject6","Experience","handleExp","Experience_BackDrop","Experience_Container","Experience_Title","Experience_Input","Experience_Row","Experience_Button","EXP_templateObject","EXP_templateObject2","EXP_templateObject3","EXP_templateObject4","EXP_templateObject5","EXP_templateObject6","EXP","editEXP","SideInfo_Experience","expRender","isTemp","EXP_Container","EXP_DesktopText","EXP_BarContainer","EXP_MobileText","EXP_BarFiller","ArmorClass_templateObject","ArmorClass_templateObject2","ArmorClass","editStat","newValue","defineProperty","ArmorClass_Container","ArmorClass_Text","Speed_templateObject","Speed_templateObject2","Speed","Speed_Container","Speed_Text","Initiative_templateObject","Initiative_templateObject2","Initiative","Initiative_Container","Initiative_Text","Proficiency_templateObject","Proficiency_templateObject2","Proficiency","Proficiency_Container","Proficiency_Text","PassivePerception_templateObject","PassivePerception_templateObject2","PassivePerception","PassivePerception_Container","PassivePerception_Text","HitDice_templateObject","HitDice_templateObject2","HitDice","HitDice_Container","HitDice_Text","determinMod","val","Math","floor","mergeUpdates","array","updates","modUpdates","Map","newUpdates","set","has","get","remove","Bonus","Bonus_templateObject","Stat_templateObject","Stat_templateObject2","Stat_templateObject3","CharacterStat","Stat_Container","Stat_Text","Stat_Bonus","SideInfo_templateObject","SideInfo_templateObject2","TopRow","SideInfo_templateObject3","BottomContainer","SideInfo_templateObject4","SideInfo_templateObject5","CloseButton","SideInfo_templateObject6","SideInfo","_char$hp","stats","ac","speed","initiative","proficiency","passivePerception","hitdice","extraProps","SideInfo_Container","components_CharacterName","components_CharacterClass","components_HP","components_EXP","SideInfo_Row","components_ArmorClass","components_Speed","components_Initiative","components_Proficiency","components_PassivePerception","components_HitDice","Stat","strength","dexterity","constitution","intelligence","wisdom","charisma","InfoTab_templateObject","TopContainer","InfoTab_templateObject2","InfoTab_templateObject3","InfoTab_templateObject4","Apperance","InfoTab_templateObject5","src","Level","InfoTab_templateObject6","blue","PropertyContainer","_templateObject7","_templateObject8","SubValue","_templateObject9","Property","InfoTab_Title","InfoTab","race","background","alignment","backstory","InfoTab_Container","InfoTab_BottomContainer","InfoTab_Row","InfoTab_Property","SavingThrow_templateObject","CheckBox","SavingThrow_templateObject2","checked","SavingThrow_templateObject3","Value","SavingThrow_templateObject4","SavingThrow","handleChange","throws","skill","efficient","mod","SavingThrow_Container","SavingThrow_Text","SavingThrows_templateObject","SavingThrows_templateObject2","SavingThrows","SavingThrows_Container","SavingThrows_Title","components_SavingThrow","SelectProficiency_templateObject","SelectProficiency_templateObject2","SelectProficiency_templateObject3","SelectProficiency_templateObject4","ProfText","SelectProficiency_templateObject5","SelectProficiency_templateObject6","SelectProficiency_templateObject7","SelectProficiency","changeValue","SelectProficiency_Backdrop","SelectProficiency_Container","SelectProficiency_Title","toUpperCase","SelectProficiency_Row","SelectProficiency_CheckBox","SelectProficiency_Button","skills","acrobatics","animalHandling","arcana","athletics","deception","insight","intimidation","investigation","medicine","nature","perception","performance","persuasion","religion","sleightOfHand","stealth","survival","modForStage","0","1","2","3","skillMap","stageMap","Skill_templateObject","Skill_templateObject2","Skill_templateObject3","Skill_templateObject4","Skill","handleClick","modals_SelectProficiency","skillToStat","Skill_Container","Skill_CheckBox","Skill_Value","Skill_Text","Skills_templateObject","Skills_templateObject2","Skills","Skills_Container","Skills_Title","components_Skill","SkillsTab_templateObject","ContentContainer","SkillsTab_templateObject2","SkillsTab","savingThrows","propInfo","SkillsTab_Container","components_SavingThrows","components_Skills","ListSection_templateObject","ListSection_templateObject2","hcolor","HeaderText","ListSection_templateObject3","ListSection","_ref$filter","_ref$data","headerColor","_ref$HeaderExtra","HeaderExtra","_ref$onClick","_ref$showOnEmpty","showOnEmpty","filterdData","ListSection_Container","ListSection_Header","index","SpellSlots_templateObject","SpellSlots_templateObject2","SlotOption","SpellSlots_templateObject3","cast","SpellSlots","_ref$slots","slots","edit","SpellSlots_Container","SpellSlots_Text","spellDefaults","casttime","higherlevels","itemDefaults","rarity","category","magic","attackStat","attackBonus","damageStat","additionalDamage","damage1","damage2","longRange","properties","requirements","modifiers","weight","quantity","desc","reqAttune","charges","sources","featDefaults","boolOptions","label","spellLevels","schoolTypes","ALL","A","C","D","E","V","I","N","schoolFilters","schoolOptions","statTypes","AUTO","STR","DEX","CON","INT","WIS","CHA","statOptions","rarityTypes","U","R","VR","UK","UKM","rarityOptions","itemTypes","G","LA","MA","HA","S","M","RD","ST","WD","RG","P","SC","W","WE","SCF","AT","INS","typeFilters","typeOptions","damageTypes","B","F","FO","PO","PS","propertyTypes","LD","H","2H","RLD","BF","Spell_templateObject","abs","Spell_templateObject2","InnerContainer","Spell_templateObject3","Spell_templateObject4","SubText","Spell_templateObject5","Spell","components","Spell_Container","Spell_Header","join","SelectContainer","select","Select_templateObject","Select","_props$multi","multi","multiple","DesktopHeader","EditSpell_templateObject","EditSpell_templateObject2","creatingSpell","EditSpell_templateObject3","EditSpell_templateObject4","EditSpell_templateObject5","EditSpell_templateObject6","full","_props$full","callback","EditSpell_PropertyContainer","EditSpell_Title","components_Select","EditSpell_Input","EditSpell","editSpell","showSpells","confirm","_props$spellData","spellData","EditSpell_Container","EditSpell_Row","EditSpell_Property","margin","react_textarea_autosize_esm_browser","Search_templateObject","SearchContainer","Search_templateObject2","SearchInput","Search_templateObject3","SearchIcons","Search_templateObject4","Search_templateObject5","Search","bgStyle","ph","onSearch","onFilter","filters","currentFilter","direction","spellcheck","Search_Select","AddSpell_Search_templateObject","List","AddSpell_Search_templateObject2","CustomButton","AddSpell_Search_templateObject3","listFilter","spell","search","changeFilter","openSpell","filteredSrd","limit","srdSpells","toLowerCase","includes","slice","AddSpell_Search_Container","components_Search","backgroundColor","boxShadow","components_ListSection","AddSpell_templateObject","BackButton","FaArrowLeft","AddSpell_templateObject2","ConfirmButton","FaCheck","AddSpell_templateObject3","AddSpell","AddSpell_objectSpread","AddSpell_Container","creating","position","AddSpell_Search","AddSpell_EditSpell","edit_extends","edit_objectWithoutProperties","edit_objectWithoutPropertiesLoose","edit_ref2","edit_SvgEdit","edit_ForwardRef","ItemOptions_templateObject","ItemOptions","deleteClick","editClick","ItemOptions_Container","SpellInfo_templateObject","DesktopOptions","SpellInfo_templateObject2","InfoContainer","SpellInfo_templateObject3","SpellInfo_templateObject4","SpellInfo_templateObject5","span","SpellInfo_templateObject6","Description","SpellInfo_templateObject7","SpellInfo_templateObject8","SpellInfo_templateObject9","SpellInfo","isEditing","find","toggleEditing","confirmEdit","deleteSpell","SpellInfo_objectSpread","_this$state$spell","SpellInfo_BackDrop","components_ItemOptions","SpellInfo_Name","SpellInfo_Text","SpellInfo_SubText","SpellsTab_templateObject","EmptyText","SpellsTab_templateObject2","ListContainer","SpellsTab_templateObject3","SpellsTab_templateObject4","SpellsTab","updateSpellslots","_this$props$char","spellSlots","_this$props2$char","modals_SpellInfo","SpellsTab_Container","components_SpellSlots","one","two","three","four","five","six","seven","eight","nine","SpellsTab_AddSpell","modals_AddSpell","Item_templateObject","Item_templateObject2","Item_templateObject3","EquippedCheckbox","Item_templateObject4","Item_templateObject5","Item","Item_Container","Item_InnerContainer","Item_Text","EditItem_templateObject","EditItem_templateObject2","creatingItem","EditItem_templateObject3","EditItem_templateObject4","EditItem_templateObject5","EditItem_templateObject6","EditItem_PropertyContainer","EditItem_Title","EditItem_Input","EditItem","showItems","_props$itemData","itemData","EditItem_Container","EditItem_DesktopHeader","EditItem_Row","EditItem_Property","Fragment","Number","AddItem_Search_templateObject","AddItem_Search_templateObject2","AddItem_Search_templateObject3","openItem","srdEquipment","AddItem_Search_Container","Search_List","components_Item","Search_CustomButton","AddItem_templateObject","AddItem_templateObject2","AddItem_templateObject3","AddItem","items","AddItem_objectSpread","AddItem_Container","AddItem_Search","AddItem_EditItem","ItemInfo_templateObject","ItemInfo_templateObject2","ItemInfo_templateObject3","ItemInfo_templateObject4","ItemInfo_templateObject5","ItemInfo_templateObject6","ItemInfo_templateObject7","ItemInfo_templateObject8","ItemInfo_templateObject9","ItemInfo","deleteItem","ItemInfo_objectSpread","_this$state$item","_this$state$item$prop","ItemInfo_BackDrop","ItemInfo_DesktopOptions","ItemInfo_InfoContainer","ItemInfo_Name","ItemInfo_Text","ItemInfo_SubText","prop","ItemInfo_Description","EquipmentTab_templateObject","EquipmentTab_templateObject2","AddEquipment","EquipmentTab_templateObject3","Rows","EquipmentTab_templateObject4","InnerRows","EquipmentTab_templateObject5","RowText","EquipmentTab_templateObject6","EquipmentTab","EquipmentTab_Container","EquipmentTab_ListContainer","modals_ItemInfo","modals_AddItem","CombatTab_templateObject","CombatTab_templateObject2","AddButton","CombatTab_Title","CombatTab","CombatTab_Container","CombatTab_AddButton","ClampLines","element","React","createRef","original","watch","lineHeight","start","middle","end","uuid","expanded","noClamp","substring","action","debounced","debounce","delay","clientHeight","clampLines","addEventListener","removeEventListener","prevProps","func","wait","immediate","timeout","_arguments","context","args","callNow","clearTimeout","setTimeout","maxHeight","lines","innerText","moveMarkers","getEllipsis","ellipsis","Element","component","PureComponent","defaultProps","innerElement","Feature_templateObject","Feature_templateObject2","Feature_templateObject3","Info","Feature_templateObject4","Feature_templateObject5","Feature_templateObject6","Feature_templateObject7","Feature","prerequisite","_props$showRequiremen","showRequirements","Feature_Container","Feature_Header","justifyContent","alignItems","Feature_Title","Feature_Text","prereqs","which","renderReq","Clamp_ClampLines","EditFeature_templateObject","EditFeature_templateObject2","creatingFeat","EditFeature_templateObject3","EditFeature_templateObject4","EditFeature_templateObject5","EditFeature_templateObject6","EditFeature_PropertyContainer","EditFeature_Input","editFeat","showFeats","_props$featData","featData","EditFeature_Container","EditFeature_DesktopHeader","EditFeature_Title","EditFeature_Row","EditFeature_Property","AddFeature_Search_templateObject","AddFeature_Search_templateObject2","AddFeature_Search_templateObject3","openFeat","srdFeatures","feat","AddFeature_Search_Container","AddFeature_Search_List","components_Feature","AddFeature_Search_CustomButton","AddFeature_templateObject","AddFeature_templateObject2","AddFeature_templateObject3","AddFeature","AddFeature_objectSpread","AddFeature_Container","AddFeature_Search","EditFeature","FeatureInfo_templateObject","FeatureInfo_templateObject2","FeatureInfo_templateObject3","FeatureInfo_templateObject4","FeatureInfo_templateObject5","FeatureInfo_templateObject6","FeatureInfo_templateObject7","FeatureInfo_templateObject8","FeatureInfo_templateObject9","FeatureInfo","deleteFeat","FeatureInfo_objectSpread","_this$state$feat","FeatureInfo_BackDrop","FeatureInfo_DesktopOptions","FeatureInfo_InfoContainer","FeatureInfo_Name","FeatureInfo_Text","FeatureInfo_SubText","FeatureInfo_Description","FeaturesAndTraits_templateObject","FeaturesAndTraits_templateObject2","FeaturesAndTraits_templateObject3","FeaturesAndTraits","FeaturesAndTraits_Container","FeaturesAndTraits_ListContainer","modals_FeatureInfo","FeaturesAndTraits_AddFeature","modals_AddFeature","CharFooter_templateObject","OverlayContainer","CharFooter_templateObject2","Icon","CharFooter_templateObject3","selected","CharFooter","CharFooter_Container","index_esm","gi_index_esm","views_Character_templateObject","ViewContainer","views_Character_templateObject2","TabContainer","views_Character_templateObject3","SideInfoButton","FaInfoCircle","Character_templateObject4","CharacterOverlay","sideInfoIsOpen","toggleSideInfo","params","loadOne","newChar","changeCharacter","tab","updateData","revertData","views_Character_Container","components_DesktopTabs","tabs_InfoTab","tabs_SkillsTab","tabs_SpellsTab","tabs_EquipmentTab","tabs_CombatTab","tabs_FeaturesAndTraits","components_SideInfo","components_CharFooter","addSpell","showAddItem","modals_Loading","updateCharacter","Home_templateObject","Home_templateObject2","requireAuth","pathname","Home_Container","modals_Modals","components_SlideOut","Home_ViewContainer","react_router","exact","Routes","react_router_dom","basename","process","Home","_ref$payload","jwt","reducers","combineReducers","handler","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","reduxThunk","ReactDOM","render","styled_components_browser_esm","extra","es","src_Routes","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.caca974a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import styled, { css } from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  background-color: ${props => props.theme.green};\r\n  color: ${props => props.theme.text};\r\n\r\n  font-family: OpenSans;\r\n  font-size: 1.2em;\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  border: none;\r\n\r\n  cursor: pointer;\r\n\r\n  ${props => props.disabled && css`\r\n    opacity: 0.4;\r\n    cursor: not-allowed;\r\n  `}\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 6px;\r\n    font-size: 1vw;\r\n    font-weight: 200;\r\n  }\r\n`\r\n\r\nexport default Button;","import styled from 'styled-components';\r\n\r\nconst Text = styled.p`\r\n  color: ${props => props.color ? props.theme[props.color] || props.color : props.theme.text};\r\n  font-family: OpenSans;\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n`\r\n\r\nexport default Text;","import decode from 'jwt-decode';\r\n\r\nclass ApiService {\r\n  // Initializing important variables\r\n  constructor() {\r\n    this.domain = 'https://api.bardsballad.com' // API server domain\r\n\r\n    this.fetch = this.fetch.bind(this)\r\n    this.loadCharacters = this.loadCharacters.bind(this)\r\n    this.loadCharacter = this.loadCharacter.bind(this)\r\n    this.login = this.login.bind(this)\r\n    this.signup = this.signup.bind(this);\r\n    this.getProfile = this.getProfile.bind(this)\r\n  }\r\n\r\n  updateCharacter(id, data) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        data\r\n      })\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  createCharacter() {\r\n    return this.fetch(`${this.domain}/characters/create`, {\r\n      method: 'POST'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  deleteCharacter(id) {\r\n    return this.fetch(`${this.domain}/${id}/delete`, {\r\n      method: 'DELETE'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacters() {\r\n    return this.fetch(`${this.domain}/characters`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacter(id) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  login(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/login`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  signup(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/signup`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken() // GEtting token from localstorage\r\n    return !!token && !this.isTokenExpired(token) // handwaiving here\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) { // Checking if token is expired. N\r\n        return true;\r\n      }\r\n      else\r\n        return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  setToken(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken)\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token')\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n  }\r\n\r\n  getProfile() {\r\n    // Using jwt-decode npm package to decode the token\r\n    return decode(this.getToken());\r\n  }\r\n\r\n\r\n  fetch(url, options) {\r\n    // performs api calls sending the required authentication headers\r\n    const headers = {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    }\r\n\r\n    // Setting Authorization header\r\n    // Authorization: Bearer xxxxxxx.xxxxxxxx.xxxxxx\r\n    if (this.loggedIn()) {\r\n      headers['Authorization'] = 'Bearer ' + this.getToken()\r\n    }\r\n\r\n    return fetch(url, {\r\n      headers,\r\n      ...options\r\n    })\r\n      .then(this._checkStatus)\r\n      .then(response => response.json())\r\n  }\r\n\r\n  _checkStatus(response) {\r\n    // raises an error in case response status is not a success\r\n    if (response.status >= 200 && response.status < 300) { // Success status lies between 200 to 300\r\n      return response\r\n    } else {\r\n      console.log(response)\r\n      var error = new Error(response)\r\n      error.response = response\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ApiService();","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Link as L } from 'react-router-dom';\r\n\r\nimport Button from '../components/Button';\r\nimport T from '../components/Text';\r\n\r\nimport api from '../api';\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.3em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1em;\r\n  }\r\n`\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  background: linear-gradient(50deg, rgba(146, 146, 146, 0.02) 0%, rgba(146, 146, 146, 0.02) 25%,rgba(82, 82, 82, 0.02) 25%, rgba(82, 82, 82, 0.02) 50%,rgba(217, 217, 217, 0.02) 50%, rgba(217, 217, 217, 0.02) 75%,rgba(41, 41, 41, 0.02) 75%, rgba(41, 41, 41, 0.02) 100%),linear-gradient(252deg, rgba(126, 126, 126, 0.01) 0%, rgba(126, 126, 126, 0.01) 25%,rgba(117, 117, 117, 0.01) 25%, rgba(117, 117, 117, 0.01) 50%,rgba(219, 219, 219, 0.01) 50%, rgba(219, 219, 219, 0.01) 75%,rgba(41, 41, 41, 0.01) 75%, rgba(41, 41, 41, 0.01) 100%),linear-gradient(272deg, rgba(166, 166, 166, 0.01) 0%, rgba(166, 166, 166, 0.01) 20%,rgba(187, 187, 187, 0.01) 20%, rgba(187, 187, 187, 0.01) 40%,rgba(238, 238, 238, 0.01) 40%, rgba(238, 238, 238, 0.01) 60%,rgba(204, 204, 204, 0.01) 60%, rgba(204, 204, 204, 0.01) 80%,rgba(5, 5, 5, 0.01) 80%, rgba(5, 5, 5, 0.01) 100%),linear-gradient(86deg, rgba(143, 143, 143, 0.02) 0%, rgba(143, 143, 143, 0.02) 12.5%,rgba(36, 36, 36, 0.02) 12.5%, rgba(36, 36, 36, 0.02) 25%,rgba(23, 23, 23, 0.02) 25%, rgba(23, 23, 23, 0.02) 37.5%,rgba(223, 223, 223, 0.02) 37.5%, rgba(223, 223, 223, 0.02) 50%,rgba(101, 101, 101, 0.02) 50%, rgba(101, 101, 101, 0.02) 62.5%,rgba(94, 94, 94, 0.02) 62.5%, rgba(94, 94, 94, 0.02) 75%,rgba(148, 148, 148, 0.02) 75%, rgba(148, 148, 148, 0.02) 87.5%,rgba(107, 107, 107, 0.02) 87.5%, rgba(107, 107, 107, 0.02) 100%),linear-gradient(25deg, rgba(2, 2, 2, 0.02) 0%, rgba(2, 2, 2, 0.02) 16.667%,rgba(51, 51, 51, 0.02) 16.667%, rgba(51, 51, 51, 0.02) 33.334%,rgba(26, 26, 26, 0.02) 33.334%, rgba(26, 26, 26, 0.02) 50.001000000000005%,rgba(238, 238, 238, 0.02) 50.001%, rgba(238, 238, 238, 0.02) 66.668%,rgba(128, 128, 128, 0.02) 66.668%, rgba(128, 128, 128, 0.02) 83.33500000000001%,rgba(21, 21, 21, 0.02) 83.335%, rgba(21, 21, 21, 0.02) 100.002%),linear-gradient(325deg, rgba(95, 95, 95, 0.03) 0%, rgba(95, 95, 95, 0.03) 14.286%,rgba(68, 68, 68, 0.03) 14.286%, rgba(68, 68, 68, 0.03) 28.572%,rgba(194, 194, 194, 0.03) 28.572%, rgba(194, 194, 194, 0.03) 42.858%,rgba(51, 51, 51, 0.03) 42.858%, rgba(51, 51, 51, 0.03) 57.144%,rgba(110, 110, 110, 0.03) 57.144%, rgba(110, 110, 110, 0.03) 71.42999999999999%,rgba(64, 64, 64, 0.03) 71.43%, rgba(64, 64, 64, 0.03) 85.71600000000001%,rgba(31, 31, 31, 0.03) 85.716%, rgba(31, 31, 31, 0.03) 100.002%),linear-gradient(90deg, hsl(80,0%,14%),hsl(80,0%,14%));\r\n`\r\n\r\nconst Header = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  text-align: center;\r\n  font-size: 2em;\r\n  margin-bottom: 20px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 2.2vw;\r\n  }\r\n`\r\n\r\nconst Link = styled(L)`\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin-bottom: ${props => props.first ? '15px' : '20px'};\r\n  padding: 10px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  appearance: none;\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\r\n  border-radius: 4px;\r\n  font-size: 1em;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);\r\n  }\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1vw;\r\n    padding: 5px 10px;\r\n    margin-bottom: ${props => props.first ? '10px' : '20px'};\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 20%;\r\n    padding: 0;\r\n    margin-bottom: 15px;\r\n  }\r\n`\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.handleEmail = this.handleEmail.bind(this);\r\n    this.handlePass = this.handlePass.bind(this);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  // redirect if we're already logged in\r\n  UNSAFE_componentWillMount() {\r\n    if (api.loggedIn())\r\n      this.props.history.replace('/characters');\r\n  }\r\n\r\n  handleEmail(event) {\r\n    this.setState({ email: event.target.value });\r\n  }\r\n\r\n  handlePass(event) {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n\r\n  handleLogin(event) {\r\n    const { email, password } = this.state;\r\n\r\n    api.login(\r\n      email,\r\n      password\r\n    ).then(resp => {\r\n      this.props.history.replace('/characters')\r\n    }).catch(alert)\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackDrop>\r\n        <Form onSubmit={this.handleLogin}>\r\n          <Header>Login</Header>\r\n          <Input first\r\n            placeholder='KingCosmicDev@gmail.com' type='text'\r\n            value={this.state.email} onChange={this.handleEmail}\r\n          />\r\n\r\n          <Input\r\n            placeholder='password' type='password'\r\n            value={this.state.password} onChange={this.handlePass}\r\n          />\r\n          <Button onClick={this.handleLogin}>Login</Button>\r\n        </Form>\r\n        <Text>Need to <Link to={`/signup`}>signup?</Link></Text>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Link as L } from 'react-router-dom';\r\n\r\nimport Button from '../components/Button';\r\nimport Text from '../components/Text';\r\n\r\nimport api from '../api';\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  background-color: ${props => props.theme.middleblack};\r\n`\r\n\r\nconst Header = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  text-align: center;\r\n  font-size: 2em;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst Link = styled(L)`\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin-bottom: ${props => props.first ? '15px' : '20px'};\r\n  padding: 10px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  appearance: none;\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\r\n  border-radius: 4px;\r\n  font-size: 1em;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.handleEmail = this.handleEmail.bind(this);\r\n    this.handlePass = this.handlePass.bind(this);\r\n    this.handleSignup = this.handleSignup.bind(this);\r\n  }\r\n\r\n  // redirect if we're already logged in\r\n  UNSAFE_componentWillMount() {\r\n    if (api.loggedIn())\r\n      this.props.history.replace('/characters');\r\n  }\r\n\r\n  handleEmail(event) {\r\n    this.setState({ email: event.target.value });\r\n  }\r\n\r\n  handlePass(event) {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n\r\n  handleSignup(event) {\r\n    const { email, password } = this.state;\r\n\r\n    api.signup(\r\n      email,\r\n      password\r\n    ).then(resp => {\r\n      this.props.history.replace('/characters')\r\n    }).catch(alert)\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackDrop>\r\n        <Form onSubmit={this.handleSignup}>\r\n          <Header>Signup</Header>\r\n          <Input first\r\n            placeholder='KingCosmicDev@gmail.com' type='text'\r\n            value={this.state.email} onChange={this.handleEmail}\r\n          />\r\n\r\n          <Input\r\n            placeholder='password' type='password'\r\n            value={this.state.password} onChange={this.handlePass}\r\n          />\r\n          <Button onClick={this.handleSignup}>Signup</Button>\r\n        </Form>\r\n        <Text>Need to <Link to={`/login`}>login?</Link></Text>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Signup;","import React, { Component } from 'react';\r\n\r\nimport api from '../api';\r\n\r\nconst withAuth = (AuthComponent) => {\r\n\r\n  class AuthWrapped extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        user: false\r\n      }\r\n\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n      if (!api.loggedIn()) {\r\n        this.props.history.replace('/login')\r\n      }\r\n      else {\r\n        try {\r\n          const profile = api.getProfile()\r\n          this.setState({\r\n            user: profile\r\n          })\r\n        }\r\n        catch (err) {\r\n          api.logout()\r\n          this.props.history.replace('/login')\r\n        }\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { user } = this.state;\r\n\r\n      return user ? <AuthComponent history={this.props.history} /> : null\r\n    }\r\n\r\n  }\r\n\r\n  return AuthWrapped;\r\n}\r\n\r\nexport default withAuth;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass StringEdit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.defaultValue\r\n    }\r\n\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n  }\r\n\r\n  handleEdit(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    const { title, onCancel, onConfirm } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={onCancel}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>{title}</Title>\r\n\r\n          <Input type='text' defaultValue={value} onChange={this.handleEdit} />\r\n\r\n          <Row>\r\n            <Button onClick={onCancel} cancel>Cancel</Button>\r\n            <Button onClick={() => onConfirm(value)}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StringEdit;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass NumberEdit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.defaultValue\r\n    }\r\n\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n  }\r\n\r\n  handleEdit(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    const { title, min, max, onCancel, onConfirm } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={onCancel}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>{title}</Title>\r\n\r\n          <Input type='number' min={min} max={max} defaultValue={value} onChange={this.handleEdit} />\r\n\r\n          <Row>\r\n            <Button onClick={onCancel} cancel>Cancel</Button>\r\n            <Button onClick={() => onConfirm(value)}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NumberEdit;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport StringEdit from './StringEdit';\r\nimport NumberEdit from './NumberEdit';\r\n\r\nconst Overlay = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, .85);\r\n  z-index: 60;\r\n\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: auto;\r\n  outline: none;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    height: 85%;\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nclass Modal extends Component {\r\n  onClose() {\r\n    if (this.props.item.onClose) this.props.item.onClose();\r\n\r\n    this.props.onClose(this.props.item);\r\n  }\r\n  onConfirm() {\r\n    if (this.props.item.onConfirm) {\r\n      this.props.item.onConfirm();\r\n      this.props.onClose(this.props.item);\r\n    }\r\n  }\r\n  render() {\r\n    const { item: { type } } = this.props;\r\n\r\n    if (type === 'confirmation') {\r\n      const { text } = this.props.item;\r\n      return (\r\n        <Overlay>\r\n          <Content>\r\n            <div className=\"text\">{text}</div>\r\n            <div className=\"buttons\">\r\n              <button className=\"modal-button\" onClick={() => this.onConfirm()}>Confirm</button>\r\n              <button className=\"modal-button\" onClick={() => this.onClose()}>Close</button>\r\n            </div>\r\n          </Content>\r\n        </Overlay>\r\n      )\r\n    } else if (type === 'string') {\r\n      return (\r\n        <Overlay>\r\n          <Content>\r\n            <StringEdit {...this.props.item} />\r\n          </Content>\r\n        </Overlay>\r\n      )\r\n    } else if (type === 'number') {\r\n      return (\r\n        <Overlay>\r\n          <Content>\r\n            <NumberEdit {...this.props.item} />\r\n          </Content>\r\n        </Overlay>\r\n      )\r\n    } else if (type === 'custom') {\r\n      const { item: { content } } = this.props;\r\n\r\n      return (\r\n        <Overlay onMouseDown={content.props.requestClose}>\r\n          <Content onMouseDown={(e) => e.stopPropagation()} custom>\r\n            {content}\r\n          </Content>\r\n        </Overlay>\r\n      )\r\n    } else {\r\n      return (\r\n        <div></div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Modal from './Modal';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nconst Container = styled.div`\r\n  display: ${props => props.modals.length !== 0 ? 'block' : 'none'};\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n`\r\n\r\nclass Modals extends Component {\r\n  render() {\r\n    const { modals } = this.props;\r\n\r\n    return (\r\n      <Container modals={modals}>\r\n        {\r\n          modals.map((item, i) => {\r\n            return <Modal item={item} key={i} zIndex={i} />\r\n          })\r\n        }\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) =>\r\n  ({ modals: state.modals.modals })\r\n\r\nexport default connect(mapStateToProps, {  })(Modals);","\r\n/**\r\n * ACTIONS TYPES\r\n * \r\n * These here are our action types defined for later use\r\n */\r\n\r\n// this type was ment for everything that when you click becomes editable (character stat, etc etc)\r\n// now that I'm making item events I realize I need this and am unsure what to change it to.\r\nexport const EDIT_ITEM = 'EDIT_ITEM';\r\nexport const START_CHARACTER_CREATION = 'START_CHARACTER_CREATION';\r\nexport const CHANGE_CHARACTER_CREATION_STAGE = 'CHANGE_CHARACTER_CREATION_STAGE';\r\n\r\nexport const SHOW_ITEM_INFO = 'SHOW_ITEM_INFO';\r\nexport const SHOW_SPELL_INFO = 'SHOW_SPELL_INFO';\r\nexport const SHOW_FEAT_INFO = 'SHOW_FEAT_INFO';\r\n\r\nexport const SHOW_ADD_ITEM = 'SHOW_ADD_ITEM';\r\nexport const SHOW_ADD_SPELL = 'SHOW_ADD_SPELL';\r\nexport const SHOW_ADD_FEAT = 'SHOW_ADD_FEAT';\r\n\r\nexport const SHOW_EDIT_SPELLS_LOTS = 'SHOW_EDIT_SPELL_SLOTS';\r\n\r\nexport const HIDE_MODAL = 'HIDE_MODAL';\r\n\r\nexport const TOGGLE_SIDE_NAV = 'TOGGLE_SIDE_NAV';\r\n\r\n/**\r\n * ACTIONS\r\n * \r\n * Here we define our actions\r\n */\r\n\r\nexport const showItemInfo = (itemID) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ITEM_INFO,\r\n    payload: { itemID }\r\n  })\r\n}\r\n\r\nexport const editItem = (id) => (dispatch) => {\r\n  dispatch({\r\n    type: EDIT_ITEM,\r\n    payload: { id }\r\n  })\r\n}\r\n\r\nexport const showSpellInfo = (spellID) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_SPELL_INFO,\r\n    payload: { spellID }\r\n  })\r\n}\r\n\r\nexport const showFeatInfo = (featID) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_FEAT_INFO,\r\n    payload: { featID }\r\n  })\r\n}\r\n\r\nexport const startCharacterCreation = () => (dispatch) => {\r\n  dispatch({\r\n    type: START_CHARACTER_CREATION,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const changeCharacterCreationStage = (stage) => (dispatch) => {\r\n  dispatch({\r\n    type: CHANGE_CHARACTER_CREATION_STAGE,\r\n    payload: {\r\n      stage\r\n    }\r\n  })\r\n}\r\n\r\nexport const showAddItem = () => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ADD_ITEM,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const showAddSpell = () => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ADD_SPELL,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const showAddFeat = () => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ADD_FEAT,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const showEditSpellslots = (level) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_EDIT_SPELLS_LOTS,\r\n    payload: { level }\r\n  })\r\n}\r\n\r\nexport const hideModal = () => (dispatch) => {\r\n  dispatch({\r\n    type: HIDE_MODAL,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const toggleSideNav = () => (dispatch) => {\r\n  dispatch({\r\n    type: TOGGLE_SIDE_NAV,\r\n    payload: {}\r\n  })\r\n}\r\n\r\n/**\r\n * HANDLERS\r\n * \r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[EDIT_ITEM] = (state, { payload: { id } }) =>\r\n  Object.assign({}, state, { editing: id });\r\n\r\nactions[START_CHARACTER_CREATION] = (state, { payload }) =>\r\n  Object.assign({}, state, { creatingCharacter: true, creationStage: 1 })\r\n\r\nactions[CHANGE_CHARACTER_CREATION_STAGE] = (state, { payload: { stage } }) =>\r\n  Object.assign({}, state, { creationStage: stage })\r\n\r\nactions[SHOW_ITEM_INFO] = (state, { payload: { itemID } }) =>\r\n  Object.assign({}, state, { overlay: 'ItemInfo', itemID })\r\n\r\nactions[SHOW_FEAT_INFO] = (state, { payload: { featID } }) =>\r\n  Object.assign({}, state, { overlay: 'FeatInfo', featID })\r\n\r\nactions[SHOW_ADD_ITEM] = (state) =>\r\n  Object.assign({}, state, { overlay: 'AddItem' })\r\n\r\nactions[SHOW_ADD_FEAT] = (state) =>\r\n  Object.assign({}, state, { overlay: 'AddFeat' })\r\n\r\nactions[SHOW_ADD_SPELL] = (state) =>\r\n  Object.assign({}, state, { overlay: 'AddSpell' })\r\n\r\nactions[SHOW_SPELL_INFO] = (state, { payload: { spellID } }) =>\r\n  Object.assign({}, state, { overlay: 'SpellInfo', spellID })\r\n\r\nactions[SHOW_EDIT_SPELLS_LOTS] = (state, { payload: { level } }) =>\r\n  Object.assign({}, state, { overlay: 'EditSpellSlots', slotsLevel: level })\r\n\r\nactions[HIDE_MODAL] = (state) =>\r\n  Object.assign({}, state, { overlay: '' })\r\n\r\nactions[TOGGLE_SIDE_NAV] = (state) =>\r\n  Object.assign({}, state, { isSideNavOpen: !state.isSideNavOpen })\r\n\r\n\r\n/**\r\n * Reducer\r\n */\r\n\r\nconst initialState = {\r\n  overlay: '',\r\n  editing: '',\r\n  itemID: '',\r\n  spellID: '',\r\n  featID: '',\r\n  slotsLevel: 0,\r\n  isSideNavOpen: false,\r\n  creatingCharacter: false,\r\n  creationStage: 1\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { toggleSideNav } from '../reducers/ui';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  pointer-events: none;\r\n\r\n  position: fixed;\r\n  z-index: 50;\r\n  top: 0;\r\n  left: 0;\r\n  width: 20%;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n  perspective: 4000px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    position: static;\r\n    z-index: 0;\r\n    width: 11%;\r\n    background-color: ${props => props.theme.dark};\r\n    border-right: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst MenuItem = styled.p`\r\n  background-color: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n  font-size: 4em;\r\n  width: 100%;\r\n  text-align: center;\r\n  color: ${props => props.theme.text};\r\n  pointer-events: all;\r\n\r\n  transition: transform 0.3s linear;\r\n  transform-origin: left;\r\n\r\n  &:nth-child(2) {\r\n    transition-delay: 0.1s;\r\n  }\r\n\r\n  &.fold {\r\n    transform: rotate3d(0, 1, 0, 100deg);\r\n    pointer-events: none;\r\n  }\r\n`\r\n\r\nclass SlideOut extends Component {\r\n  render() {\r\n    const { open, toggleSideNav } = this.props;\r\n\r\n    return (\r\n      <Container isOpen={open}>\r\n        <MenuItem onClick={toggleSideNav} className={open ? '' : 'fold'}>&times;</MenuItem>\r\n        <MenuItem className={open ? '' : 'fold'}>BB</MenuItem>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    open: state.ui.isSideNavOpen\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { toggleSideNav })(SlideOut);","import decode from 'jwt-decode';\r\n\r\nclass ApiService {\r\n  // Initializing important variables\r\n  constructor() {\r\n    this.domain = 'https://api.bardsballad.com' // API server domain\r\n\r\n\r\n    this.fetch = this.fetch.bind(this)\r\n    this.loadCharacters = this.loadCharacters.bind(this)\r\n    this.loadCharacter = this.loadCharacter.bind(this)\r\n    this.login = this.login.bind(this)\r\n    this.signup = this.signup.bind(this);\r\n    this.getProfile = this.getProfile.bind(this)\r\n  }\r\n\r\n  updateCharacter(id, data) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        data\r\n      })\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  createCharacter() {\r\n    return this.fetch(`${this.domain}/characters/create`, {\r\n      method: 'POST'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacters() {\r\n    return this.fetch(`${this.domain}/characters`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacter(id) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  login(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/login`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  signup(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/signup`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken() // GEtting token from localstorage\r\n    return !!token && !this.isTokenExpired(token) // handwaiving here\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) { // Checking if token is expired. N\r\n        return true;\r\n      }\r\n      else\r\n        return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  setToken(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken)\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token')\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n  }\r\n\r\n  getProfile() {\r\n    // Using jwt-decode npm package to decode the token\r\n    return decode(this.getToken());\r\n  }\r\n\r\n\r\n  fetch(url, options) {\r\n    // performs api calls sending the required authentication headers\r\n    const headers = {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    }\r\n\r\n    // Setting Authorization header\r\n    // Authorization: Bearer xxxxxxx.xxxxxxxx.xxxxxx\r\n    if (this.loggedIn()) {\r\n      headers['Authorization'] = 'Bearer ' + this.getToken()\r\n    }\r\n\r\n    return fetch(url, {\r\n      headers,\r\n      ...options\r\n    })\r\n    .then(this._checkStatus)\r\n    .then(response => response.json())\r\n  }\r\n\r\n  _checkStatus(response) {\r\n    // raises an error in case response status is not a success\r\n    if (response.status >= 200 && response.status < 300) { // Success status lies between 200 to 300\r\n      return response\r\n    } else {\r\n      console.log(response.json())\r\n      var error = new Error(response)\r\n      error.response = response\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ApiService();","\r\n/**\r\n * ACTIONS TYPES\r\n * \r\n * These here are our action types defined for later use\r\n */\r\n\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const  CLOSE_MODAL = 'CLOSE_MODAL';\r\n\r\n/**\r\n * ACTIONS\r\n * \r\n * Here we define our actions\r\n */\r\n\r\nexport const openModal = (obj) => (dispatch) => {\r\n  dispatch({\r\n    type: OPEN_MODAL,\r\n    payload: { obj }\r\n  })\r\n}\r\n\r\nexport const closeModal = (obj) => (dispatch) => {\r\n  dispatch({\r\n    type: CLOSE_MODAL,\r\n    payload: { obj }\r\n  })\r\n}\r\n\r\n/**\r\n * HANDLERS\r\n * \r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[OPEN_MODAL] = (state, { payload: { obj } }) => {\r\n  console.log(obj)\r\n  return ({ ...state, modals: state.modals.concat(obj) })\r\n}\r\n\r\nactions[CLOSE_MODAL] = (state, { payload: { obj } }) =>\r\n  ({ ...state, modals: state.modals.filter(item => item.id !== obj.id) })\r\n\r\n/**\r\n * Reducer\r\n */\r\n\r\nconst initialState = {\r\n  modals: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .3);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst spin = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst Loader = styled.div`\r\n  border: 1em solid ${props => props.theme.grey}; /* Light grey */\r\n  border-top: 1em solid ${props => props.theme.gold}; /* Blue */\r\n  border-radius: 50%;\r\n  width: 120px;\r\n  height: 120px;\r\n  animation: ${spin} 2s linear infinite;\r\n`\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <Backdrop>\r\n      <Loader />\r\n    </Backdrop>\r\n  )\r\n}\r\n\r\nexport default Loading;","import React from 'react';\r\nimport cloneDeep from 'lodash.clonedeep'\r\nimport merge from 'lodash.merge';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nimport api from '../utility/api';\r\n\r\nimport { openModal, closeModal } from './modals';\r\n\r\nimport Loading from '../modals/Loading';\r\n\r\n/**\r\n * ACTIONS TYPES\r\n *\r\n * These here are our action types defined for later use\r\n */\r\nexport const LOAD_ALL = 'LOAD_ALL_CHARACTERS'\r\nexport const LOAD_ONE = 'LOAD_ONE_CHARACTER'\r\nexport const ADD_FEAT = 'ADD_FEAT'\r\nexport const UPDATE_FEAT = 'UPDATE_FEAT'\r\nexport const ADD_SPELL = 'ADD_SPELL'\r\nexport const UPDATE_SPELL = 'UPDATE_SPELL'\r\nexport const CHANGE_CHARACTER = 'CHANGE_CHARACTER'\r\nexport const CREATE_CHARACTER = 'CREATE_CHARACTER'\r\nexport const DELETE_CHARACTER = 'DELETE_CHARACTER'\r\nexport const UPDATE_CHARACTER = 'UPDATE_CHARACTER'\r\nexport const LEVEL_UP = 'LEVEL_UP'\r\nexport const REVERT_CHARACTER = 'REVERT_CHARACTER'\r\nexport const SYNC_CHARACTER = 'SYNC_CHARACTER'\r\nexport const UPDATE_DEATH_SAVES_SUCCESSES = 'UPDATE_DEATH_SAVES_SUCCESSES'\r\nexport const UPDATE_DEATH_SAVES_FAILS = 'UPDATE_DEATH_SAVES_FAILS'\r\n\r\n/**\r\n * ACTIONS\r\n *\r\n * Here we define our actions\r\n */\r\nexport const loadAll = () => (dispatch) => {\r\n  api.loadCharacters()\r\n  .then(({ characters }) => {\r\n    dispatch({\r\n      type: LOAD_ALL,\r\n      payload: {\r\n        characters\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const loadOne = (id) => (dispatch) => {\r\n  api.loadCharacter(id)\r\n  .then(({ character }) => {\r\n    dispatch({\r\n      type: LOAD_ONE,\r\n      payload: { characters: [character] }\r\n    })\r\n  })\r\n}\r\n\r\nexport const changeCharacter = (id) => (dispatch) => {\r\n  dispatch({\r\n    type: CHANGE_CHARACTER,\r\n    payload: { id }\r\n  })\r\n}\r\n\r\nexport const createCharacter = () => (dispatch) => {\r\n  api.createCharacter()\r\n  .then(({ character }) => {\r\n    dispatch({\r\n      type: CREATE_CHARACTER,\r\n      payload: {\r\n        character\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const deleteCharacter = () => (dispatch) => {\r\n  api.deleteCharacter()\r\n  .then(id => {\r\n    dispatch({\r\n      type: DELETE_CHARACTER,\r\n      payload: {\r\n        id\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const updateData = (path, data) => (dispatch) => dispatch({\r\n  type: UPDATE_CHARACTER,\r\n  payload: {\r\n    path,\r\n    data\r\n  }\r\n})\r\n\r\nexport const levelUp = () => (dispatch) => dispatch({\r\n  type: LEVEL_UP,\r\n  payload: {}\r\n})\r\n\r\nexport const addFeat = () => (dispatch) => dispatch({\r\n  type: ADD_FEAT,\r\n  payload: {}\r\n})\r\n\r\nexport const updateFeat = (id, data) => (dispatch) => dispatch({\r\n  type: UPDATE_FEAT,\r\n  payload: { id, data }\r\n})\r\n\r\nexport const addSpell = (level) => (dispatch) => dispatch({\r\n  type: ADD_SPELL,\r\n  payload: { level }\r\n})\r\n\r\nexport const updateSpell = (id, data) => (dispatch) => dispatch({\r\n  type: UPDATE_SPELL,\r\n  payload: { id, data }\r\n})\r\n\r\nexport const revertData = (path) => (dispatch) => dispatch({\r\n  type: REVERT_CHARACTER,\r\n  payload: {\r\n    path,\r\n  }\r\n})\r\n\r\nexport const updateDeathSaveSuccesses = (count) => (dispatch) => {\r\n  dispatch({\r\n    type: UPDATE_DEATH_SAVES_SUCCESSES,\r\n    payload: {\r\n      count,\r\n    }\r\n  });\r\n};\r\n\r\nexport const updateDeathSaveFails = (count) => (dispatch) => dispatch({\r\n  type: UPDATE_DEATH_SAVES_FAILS,\r\n  payload: {\r\n    count,\r\n  }\r\n});\r\n\r\nexport const syncData = (id, data) => (dispatch) => {\r\n\r\n  openModal({\r\n    id: 'loading',\r\n    type: 'custom',\r\n    content: <Loading />\r\n  })(dispatch)\r\n\r\n  api.updateCharacter(id, data)\r\n    .then(({ character }) => {\r\n      closeModal({ id: 'loading' })(dispatch)\r\n      dispatch({\r\n        type: SYNC_CHARACTER,\r\n        payload: { character }\r\n      });\r\n    });\r\n};\r\n\r\n/**\r\n * HANDLERS\r\n *\r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[LOAD_ALL] = (state, { payload: { characters } }) =>\r\n  Object.assign({}, state, { characters, loaded: true });\r\n\r\nactions[LOAD_ONE] = (state, { payload: { characters } }) =>\r\n  Object.assign({}, state, { characters, character: characters[0] })\r\n\r\nactions[CHANGE_CHARACTER] = (state, { payload: { id } }) => {\r\n  const character = cloneDeep(state.characters.filter(char => char._id === id)[0])\r\n\r\n  return Object.assign({}, state, { character })\r\n}\r\n\r\nactions[CREATE_CHARACTER] = (state, { payload: { character } }) =>\r\n  Object.assign({}, state, { characters: [...state.characters, character]})\r\n\r\nactions[DELETE_CHARACTER] = (state, { payload: { id } }) =>\r\n  cloneDeep(state).characters = state.characters.filter(char => char._id !== id);\r\n\r\nactions[UPDATE_CHARACTER] = (state, { payload: { path, data } }) => {\r\n  let newstate = cloneDeep(state);\r\n  newstate.update.data[path] = data;\r\n  newstate.update.empty = false;\r\n\r\n  return Object.assign({}, state, newstate);\r\n}\r\n\r\n//const regex = /([{](\\w+)[}])/g\r\n\r\nactions[LEVEL_UP] = (state) => {\r\n  // TODO: get this setup to work right.\r\n}\r\n\r\nactions[ADD_FEAT] = (state) =>  {\r\n  let id = nanoid(lowercased, 24)\r\n\r\n  return merge({}, state, { update: { empty: false, data: { feats: [...state.update.data.feats || [], { name: 'new feat', uses: 0, description: 'click to edit me', id, new: true } ] } } })\r\n}\r\n\r\nactions[UPDATE_FEAT] = (state, { payload: { id, data } }) => {\r\n  let feats = cloneDeep(state.update.data.feats || []);\r\n\r\n  let update = { ...data, id }\r\n\r\n  let isUpdated = false;\r\n\r\n  for (let f = 0; f < feats.length; f++) {\r\n    let feat = feats[f];\r\n\r\n    if (feat.id === id) {\r\n      feats[f] = merge(feats[f], update);\r\n      isUpdated = true\r\n    }\r\n\r\n  }\r\n\r\n  if (!isUpdated) feats.push(update);\r\n\r\n  return merge(state, { update: { data: { feats }, empty: false } });\r\n}\r\n\r\nactions[ADD_SPELL] = (state, { payload: { level } }) =>  {\r\n  let id = nanoid(lowercased, 24)\r\n\r\n  return merge({}, state, { update: { empty: false, data: { spells: [...state.update.data.spells || [],\r\n    {\r\n      id,\r\n      level,\r\n      name: 'New Spell',\r\n      school: 'divination',\r\n      castingTime: '1 action',\r\n      range: '15 feet',\r\n      verbal: false,\r\n      somatic: false,\r\n      material: [],\r\n      concentration: false,\r\n      ritual: false,\r\n      duration: '1 minute',\r\n      description: 'Here\\'s your new spell edit it to your hearts content bud.',\r\n      new: true\r\n    }\r\n  ] } } })\r\n}\r\n\r\nactions[UPDATE_SPELL] = (state, { payload: { id, data } }) => {\r\n  let spells = cloneDeep(state.update.data.spells || []);\r\n\r\n  let update = { ...data, id }\r\n\r\n  let isUpdated = false;\r\n\r\n  for (let s = 0; s < spells.length; s++) {\r\n    let spell = spells[s];\r\n\r\n    if (spell.id === id) {\r\n      spells[s] = merge(spells[s], update);\r\n      isUpdated = true\r\n    }\r\n\r\n  }\r\n\r\n  if (!isUpdated) spells.push(update);\r\n\r\n  return merge(state, { update: { data: { spells }, empty: false } });\r\n}\r\n\r\nactions[REVERT_CHARACTER] = (state, { payload: { path } }) => {\r\n  let newstate = cloneDeep(state);\r\n  delete newstate.update.data[path];\r\n\r\n  if (Object.keys(newstate.update.data).length === 0) newstate.update.empty = true;\r\n\r\n  return Object.assign({}, state, newstate);\r\n}\r\n\r\nactions[SYNC_CHARACTER] = (state, { payload: { character } }) =>\r\n  Object.assign({}, state, { character, update: { empty: true, data: {} } })\r\n\r\nactions[UPDATE_DEATH_SAVES_SUCCESSES] = (state, { payload: { count } }) => {\r\n  const successesSaves = {\r\n    first: count > 0 ? true : false,\r\n    second: count > 1 ? true : false,\r\n    third: count > 2 ? true : false\r\n  };\r\n  return merge({}, state, { character: { deathsaves: { success: successesSaves } } });\r\n};\r\n\r\nactions[UPDATE_DEATH_SAVES_FAILS] = (state, { payload: { count } }) => {\r\n  const deathSaves = {\r\n    first: count > 0 ? true : false,\r\n    second: count > 1 ? true : false,\r\n    third: count > 2 ? true : false\r\n  };\r\n  let newState = Object.assign ({}, state)\r\n\r\n  newState.character.deathsaves.fails = deathSaves;\r\n\r\n  return merge({}, newState);\r\n};\r\n\r\n// REDUCER\r\n\r\nconst initialState = {\r\n  characters: [],\r\n  character: false,\r\n  loaded: false,\r\n  update: {\r\n    empty: true,\r\n    data: {}\r\n  }\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaBars } from 'react-icons/fa'\r\nimport Text from './Text';\r\n\r\nconst Container = styled.header`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 15px;\r\n  z-index: 1;\r\n  background-color: ${props => props.theme.light};\r\n  width: 100vw;\r\n  height: 60px;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  border-bottom: 1px solid ${props => props.theme.middleblack};\r\n  box-shadow: 0 1px 0 rgba(0,0,0,.2), 0 1.5px 0 rgba(0,0,0,.05), 0 2px 0 rgba(0,0,0,.05);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  text-align: center;\r\n  font-size: 1.6em;\r\n  height: 60px;\r\n  line-height: 60px;\r\n`\r\n\r\nconst MenuIcon = styled(FaBars)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n`\r\n\r\nconst NavButton = ({ onClick }) =>\r\n  <MenuIcon onClick={onClick} />\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const {\r\n      bgStyles,\r\n      leftClick = () => {}, LeftComponent = NavButton,\r\n      title = 'title',\r\n      RightComponent = 'div', rightClick = () => {}\r\n    } = this.props;\r\n\r\n    return (\r\n      <Container style={bgStyles}>\r\n        <LeftComponent onClick={leftClick} />\r\n\r\n        <Title>{title}</Title>\r\n\r\n        <RightComponent onClick={rightClick} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M199 103v50h-78v30h270v-30h-78v-50H199zm18 18h78v32h-78v-32zm-79.002 80l30.106 286h175.794l30.104-286H137.998zm62.338 13.38l.64 8.98 16 224 .643 8.976-17.956 1.283-.64-8.98-16-224-.643-8.976 17.956-1.283zm111.328 0l17.955 1.284-.643 8.977-16 224-.64 8.98-17.956-1.284.643-8.977 16-224 .64-8.98zM247 215h18v242h-18V215z\",\n  fill: \"#fff\",\n  fillOpacity: 1\n});\n\nvar SvgDelete = function SvgDelete(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    style: {\n      height: 512,\n      width: 512\n    },\n    ref: svgRef\n  }, props), React.createElement(\"g\", {\n    className: \"\",\n    transform: \"translate(0,0)\",\n    style: {\n      touchAction: \"none\"\n    }\n  }, _ref2));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDelete, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/delete.f7213e1d.svg\";\nexport { ForwardRef as ReactComponent };","\r\nexport const getLevel = (exp) => {\r\n  let moreThanLevels = levels.filter(lvl => exp >= lvl.exp);\r\n\r\n  return moreThanLevels[moreThanLevels.length - 1]\r\n}\r\n\r\nconst levels = [\r\n  {\r\n    level: 1,\r\n    exp: 0,\r\n    prof: 2\r\n  },\r\n  {\r\n    level: 2,\r\n    exp: 300,\r\n    prof: 2\r\n  },\r\n  {\r\n    level: 3,\r\n    exp: 900,\r\n    prof: 2\r\n  },\r\n  {\r\n    level: 4,\r\n    exp: 2700,\r\n    prof: 2\r\n  },\r\n  {\r\n    level: 5,\r\n    exp: 6500,\r\n    prof: 3\r\n  },\r\n  {\r\n    level: 6,\r\n    exp: 14000,\r\n    prof: 3\r\n  },\r\n  {\r\n    level: 7,\r\n    exp: 23000,\r\n    prof: 3\r\n  },\r\n  {\r\n    level: 8,\r\n    exp: 34000,\r\n    prof: 3\r\n  },\r\n  {\r\n    level: 9,\r\n    exp: 48000,\r\n    prof: 4\r\n  },\r\n  {\r\n    level: 10,\r\n    exp: 64000,\r\n    prof: 4\r\n  },\r\n  {\r\n    level: 11,\r\n    exp: 85000,\r\n    prof: 4\r\n  },\r\n  {\r\n    level: 12,\r\n    exp: 100000,\r\n    prof: 4\r\n  },\r\n  {\r\n    level: 13,\r\n    exp: 120000,\r\n    prof: 5\r\n  },\r\n  {\r\n    level: 14,\r\n    exp: 140000,\r\n    prof: 5\r\n  },\r\n  {\r\n    level: 15,\r\n    exp: 165000,\r\n    prof: 5\r\n  },\r\n  {\r\n    level: 16,\r\n    exp: 195000,\r\n    prof: 5\r\n  },\r\n  {\r\n    level: 17,\r\n    exp: 225000,\r\n    prof: 6\r\n  },\r\n  {\r\n    level: 18,\r\n    exp: 265000,\r\n    prof: 6\r\n  },\r\n  {\r\n    level: 19,\r\n    exp: 305000,\r\n    prof: 6\r\n  },\r\n  {\r\n    level: 20,\r\n    exp: 355000,\r\n    prof: 6\r\n  }\r\n]\r\n\r\nexport default levels;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nimport { ReactComponent as Delete } from '../assets/delete.svg';\r\n\r\nimport { getLevel } from '../data/levels';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  padding: 5px;\r\n  width: 90%;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  height: 180px;\r\n  background: url('https://cdn.discordapp.com/attachments/391809595473002496/579335189331836939/233.png');\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n\r\n  cursor: pointer;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: inline-block;\r\n    width: calc(33.33% - 30px);\r\n    height: 120px;\r\n\r\n    margin: 5px;\r\n\r\n    background-position: 0% 0%;\r\n  }\r\n`\r\n\r\nconst OptionsButton = styled(Text)`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 15px;\r\n  font-size: 2em;\r\n`\r\n\r\n\r\nconst Name = styled(Text)`\r\n  position: absolute;\r\n  left: 10px;\r\n  bottom: 10px;\r\n`\r\n\r\nconst Character = (props) => {\r\n  const { name, job, exp, id, history } = props;\r\n\r\n  return (\r\n    <Container onClick={() => history.replace(`/characters/${id}`)}>\r\n      <OptionsButton><Delete style={{ width: '1em', height: '1em' }}  /></OptionsButton>\r\n\r\n      <Name>{name} <br /> {job} ({getLevel(exp).level})</Name>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Character;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { loadAll, createCharacter, deleteCharacter } from '../reducers/characters';\r\nimport { startCharacterCreation, changeCharacterCreationStage, toggleSideNav } from '../reducers/ui';\r\n\r\nimport Header from '../components/Header';\r\n\r\n//import CharacterCreation from '../components/CharacterCreation';\r\nimport Character from '../components/Character';\r\n\r\nconst Tab = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  padding: 65px 0 0 0;\r\n  overflow-y: auto;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    position: static;\r\n    padding: 10px;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: inline-block;\r\n  }\r\n`\r\n\r\nconst CreateCharacter = styled.p`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 10px 20px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n`\r\n\r\nclass Characters extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.loaded) this.props.loadAll()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      characters, createCharacter, deleteCharacter,\r\n      creatingCharacter, toggleSideNav\r\n    } = this.props;\r\n\r\n    if (creatingCharacter) {\r\n      return (\r\n        {\r\n          //<CharacterCreation stage={creationStage} changeStage={changeCharacterCreationStage} />\r\n        }\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Tab>\r\n        <Header title='Characters' leftClick={toggleSideNav} />\r\n        <Container>\r\n          {\r\n            (characters.length === 0) ? null :\r\n\r\n            Array.from(characters).reverse().map(character => {\r\n              const { name, job, exp } = character\r\n\r\n              return <Character key={character._id} name={name} job={job} exp={exp} character={character} id={character._id} deleteCharacter={deleteCharacter} history={this.props.history} />\r\n            })\r\n          }\r\n        </Container>\r\n\r\n        <CreateCharacter onClick={createCharacter}>&#43;</CreateCharacter>\r\n      </Tab>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    characters: state.characters.characters,\r\n    loaded: state.characters.loaded,\r\n    creatingCharacter: state.ui.creatingCharacter,\r\n    creationStage: state.ui.creationStage\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, {\r\n  loadAll, createCharacter, deleteCharacter,\r\n  startCharacterCreation, changeCharacterCreationStage,\r\n  toggleSideNav\r\n})(Characters));","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nconst TabsContainer = styled.div`\r\n  width: 41%;\r\n  margin: 10px 10px 0;\r\n\r\n  border-bottom: 1px solid ${props => props.theme.grey};\r\n\r\n  @media only screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Tab = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  font-family: OpenSans;\r\n  margin: 0;\r\n  padding: 0 10px 10px;\r\n\r\n  float: left;\r\n\r\n  cursor: pointer;\r\n  position: relative;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.gold};\r\n  }\r\n\r\n  ${props => props.active && css`\r\n    color: ${props => props.theme.gold}\r\n\r\n    &:after {\r\n      width: 0;\r\n      height: 0;\r\n\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      margin: auto;\r\n      bottom: 0;\r\n\r\n      border-left: 7px solid transparent;\r\n      border-right: 7px solid transparent;\r\n      border-bottom: 7px solid ${props => props.theme.grey};\r\n    }\r\n  `}\r\n`\r\n\r\nconst DesktopTabs = ({ selectedTab, changeTab }) => {\r\n  return (\r\n    <TabsContainer>\r\n      <Tab active={selectedTab === 'info'} onClick={() => changeTab('info')}>info</Tab>\r\n\r\n      <Tab active={selectedTab === 'skills'} onClick={() => changeTab('skills')}>skills</Tab>\r\n\r\n      <Tab active={selectedTab === 'spells'} onClick={() => changeTab('spells')}>spells</Tab>\r\n\r\n      <Tab active={selectedTab === 'equipment'} onClick={() => changeTab('equipment')}>equipment</Tab>\r\n\r\n      <Tab active={selectedTab === 'combat'} onClick={() => changeTab('combat')}>combat</Tab>\r\n\r\n      <Tab active={selectedTab === 'features'} onClick={() => changeTab('features')}>features & traits</Tab>\r\n    </TabsContainer>\r\n  )\r\n}\r\n\r\nexport default DesktopTabs;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 80%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass ChangeName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.name\r\n    }\r\n\r\n    this.handleName = this.handleName.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleName(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        name: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Name</Title>\r\n\r\n          <Input defaultValue={value} onChange={this.handleName} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChangeName;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport ChangeName from '../modals/SideInfo/ChangeName';\r\n\r\nconst Text = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n\r\n  padding: 0 5px;\r\n  width: 100%;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.4vw;\r\n  }\r\n`\r\n\r\nclass CharacterName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  \r\n    this.changeName = this.changeName.bind(this);\r\n  }\r\n\r\n  changeName() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'namechangemodal',\r\n      type: 'custom',\r\n      content: <ChangeName {...this.props} requestClose={() => closeModal({ id: 'namechangemodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name } = this.props;\r\n\r\n    return (\r\n      <Text onClick={this.changeName}>{name}</Text>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CharacterName;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 80%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass ChangeClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.job\r\n    }\r\n\r\n    this.handleClass = this.handleClass.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleClass(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        job: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Class</Title>\r\n\r\n          <Input defaultValue={value} onChange={this.handleClass} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChangeClass;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport ChangeClass from '../modals/SideInfo/ChangeClass';\r\n\r\n//import { getLevel } from '../data/levels';\r\n\r\nconst Text = styled(T)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 1.5em;\r\n\r\n  padding: 5px;\r\n  width: 100%;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.2vw;\r\n  }\r\n`\r\n\r\nclass CharacterClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeClass = this.changeClass.bind(this);\r\n  }\r\n\r\n  changeClass() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'classchangemodal',\r\n      type: 'custom',\r\n      content: <ChangeClass {...this.props} requestClose={() => closeModal({ id: 'classchangemodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { job } = this.props;\r\n\r\n    return (\r\n      <Text onClick={this.changeClass}>{job}</Text>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CharacterClass;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass Health extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      current: props.current,\r\n      max: props.max,\r\n      temp: props.temp\r\n    }\r\n\r\n    this.handleCurrent = this.handleCurrent.bind(this);\r\n    this.handleMax = this.handleMax.bind(this);\r\n    this.handleTemp = this.handleTemp.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleCurrent(event) {\r\n    this.setState({ current: event.target.value });\r\n  }\r\n\r\n  handleMax(event) {\r\n    this.setState({ max: event.target.value });\r\n  }\r\n\r\n  handleTemp(event) {\r\n    this.setState({ temp: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { current, max, temp } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        hp: {\r\n          current,\r\n          max,\r\n          temp\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { current, max, temp } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Health</Title>\r\n\r\n          <Row>\r\n            <Input type='number' defaultValue={current} onChange={this.handleCurrent} />\r\n            <Input type='number' defaultValue={max} onChange={this.handleMax} />\r\n            <Input type='number' defaultValue={temp} onChange={this.handleTemp} />\r\n          </Row>\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Health;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport EditHealth from '../modals/SideInfo/Health';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  padding: 5px;\r\n`\r\n\r\nconst BarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 1.7em;\r\n\r\n  background-color: ${props => props.theme.middleblack};\r\n  border-left: 2px;\r\n  border-right: 2px;\r\n  border-style: solid;\r\n  border-color: ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    height: 10px;\r\n    border: 1px solid;\r\n  }\r\n`\r\n\r\nconst BarFiller = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  width: ${props => `${props.value}%`};\r\n\r\n  background-color: ${props => props.theme[props.color] || props.theme.text};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  z-index: 50;\r\n  color: ${props => props.theme.text};\r\n`\r\n\r\nconst DesktopText = styled(Text)`\r\n  display: none;\r\n  font-size: 0.9em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst MobileText = styled(Text)`\r\n  opacity: .8;\r\n  @media only screen and (min-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst determinPercent = (current, max, temp = 0, isTemp = true) => ((current + ((isTemp) ? temp : 0)) / (max + temp)) * 100;\r\n\r\nclass HP extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editHP = this.editHP.bind(this);\r\n  }\r\n\r\n  editHP() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'hpeditmodal',\r\n      type: 'custom',\r\n      content: <EditHealth {...this.props} requestClose={() => closeModal({ id: 'hpeditmodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { current, max, temp } = this.props;\r\n\r\n    const tempRender = determinPercent(current, max, temp);\r\n    const hpRender = determinPercent(current, max, temp, false);\r\n\r\n    return (\r\n      <Container>\r\n        <DesktopText>HP: {current}/{max} {(temp) ? ` (+${temp})` : ''}</DesktopText>\r\n        <BarContainer onClick={this.editHP}>\r\n          <MobileText>HP: {current}/{max} {(temp) ? ` (+${temp})` : ''}</MobileText>\r\n          <BarFiller value={tempRender} color='blue' />\r\n          <BarFiller value={hpRender} color='green' />\r\n        </BarContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HP;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 38%;\r\n  }\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass Experience extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.current\r\n    }\r\n\r\n    this.handleExp = this.handleExp.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleExp(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        exp: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Experience</Title>\r\n\r\n          <Input type='number' defaultValue={value} onChange={this.handleExp} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Experience;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport EditExperience from '../modals/SideInfo/Experience';\r\n\r\nimport { getLevel } from '../data/levels';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  padding: 5px;\r\n`\r\n\r\nconst BarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 1.7em;\r\n\r\n  background-color: ${props => props.theme.middleblack};\r\n  border-left: 2px;\r\n  border-right: 2px;\r\n  border-style: solid;\r\n  border-color: ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    height: 10px;\r\n    border: 1px solid;\r\n  }\r\n`\r\n\r\nconst BarFiller = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  width: ${props => `${props.value}%`};\r\n\r\n  background-color: ${props => props.theme[props.color] || props.theme.text};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  z-index: 50;\r\n  color: rgb(255, 255, 255, .8);\r\n`\r\n\r\nconst DesktopText = styled(Text)`\r\n  display: none;\r\n  font-size: 0.9em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst MobileText = styled(Text)`\r\n  @media only screen and (min-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst determinPercent = (current, max, temp = 0, isTemp = true) => (current > max) ? 100 : ((current + ((isTemp) ? temp : 0)) / (max + temp)) * 100;\r\n\r\nclass EXP extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editEXP = this.editEXP.bind(this);\r\n  }\r\n\r\n  editEXP() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'expeditmodal',\r\n      type: 'custom',\r\n      content: <EditExperience {...this.props} requestClose={() => closeModal({ id: 'expeditmodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { current } = this.props;\r\n\r\n    const max = getLevel(current).exp\r\n\r\n    const expRender = determinPercent(current, max);\r\n\r\n    return (\r\n      <Container>\r\n        <DesktopText>EXP: {current}/{max}</DesktopText>\r\n        <BarContainer onClick={this.editEXP}>\r\n          <MobileText>EXP: {current}/{max}</MobileText>\r\n          <BarFiller value={expRender} color='gold' />\r\n        </BarContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EXP;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass ArmorClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'aceditmodal',\r\n      type: 'number',\r\n      title: 'Edit ArmorClass',\r\n      defaultValue: value,\r\n      min: 0,\r\n      onCancel: () => closeModal({ id: 'aceditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'aceditmodal' });;\r\n\r\n        closeModal({ id: 'aceditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ArmorClass;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass Speed extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'spdeditmodal',\r\n      type: 'number',\r\n      title: 'Edit Speed',\r\n      defaultValue: value,\r\n      min: 0,\r\n      onCancel: () => closeModal({ id: 'spdeditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'spdeditmodal' });\r\n\r\n        closeModal({ id: 'spdeditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Speed;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass Initiative extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'initeditmodal',\r\n      type: 'number',\r\n      title: 'Edit Initiative',\r\n      defaultValue: value,\r\n      min: 0,\r\n      onCancel: () => closeModal({ id: 'initeditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'initeditmodal' });\r\n\r\n        closeModal({ id: 'initeditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>+{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Initiative;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass Proficiency extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'profeditmodal',\r\n      type: 'number',\r\n      title: 'Edit Proficiency',\r\n      defaultValue: value,\r\n      min: 0,\r\n      onCancel: () => closeModal({ id: 'profeditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'profeditmodal' });\r\n\r\n        closeModal({ id: 'profeditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>+{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Proficiency;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass PassivePerception extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'ppeditmodal',\r\n      type: 'number',\r\n      title: 'Edit Passive Perception',\r\n      defaultValue: value,\r\n      min: 0,\r\n      onCancel: () => closeModal({ id: 'ppeditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'ppeditmodal' });\r\n\r\n        closeModal({ id: 'ppeditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>PP</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PassivePerception;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass HitDice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'hdeditmodal',\r\n      type: 'string',\r\n      title: 'Edit HitDice',\r\n      defaultValue: value,\r\n      onCancel: () => closeModal({ id: 'hdeditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'hdeditmodal' });\r\n\r\n        closeModal({ id: 'hdeditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>HD</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HitDice;","import merge from 'lodash.merge';\r\nimport cloneDeep from 'lodash.clonedeep';\r\n\r\n\r\nexport { merge, cloneDeep }\r\n\r\n// determin the modifier from a stat.\r\nexport const determinMod = (val) => Math.floor((val - 10) / 2);\r\n\r\nexport const renderReq = (prereqs = []) => {\r\n  if (prereqs.length === 0) return ''\r\n\r\n  return prereqs.map(({ type, which, value }) => {\r\n    switch (type) {\r\n      case 'ability':\r\n        return `${value} ${which.toLowerCase()}`\r\n      case ('race', 'subrace'):\r\n        return value\r\n      case 'prof':\r\n        return `${value} proficiency`\r\n      case 'level':\r\n        return `level ${value}`\r\n      case 'special':\r\n        return value\r\n      default:\r\n        return ''\r\n    }\r\n  }).join(', ')\r\n}\r\n\r\nconst diceRegex = /((\\d+)d(\\d+)(\\w))/gi\r\n// parser out data strings.\r\nexport const diceParser = (string, attack = false, justCheck = false) => {\r\n  diceRegex.exec()\r\n}\r\n\r\n// merge an updates array into our user data\r\n// array for easy rendering\r\nexport const mergeUpdates = (array, updates = []) => {\r\n  if (updates.length === 0) return array;\r\n\r\n  let modUpdates = new Map();\r\n\r\n  let newUpdates = updates.filter(update => {\r\n    if (update.new) return true\r\n\r\n    modUpdates.set(update.id, update);\r\n    return false;\r\n  })\r\n\r\n  return array.map(value => modUpdates.has(value.id) ? merge(value, modUpdates.get(value.id)) : value)\r\n    .concat(newUpdates).filter(item => !item.remove);\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nimport { determinMod } from '../helpers';\r\n\r\nconst Bonus = styled(Text)`\r\n  color: ${(props) => (props.value < 10) ? props.theme.red : props.theme.green};\r\n\r\n  ::before {\r\n    content: ${(props) => (props.value < 10) ? '' : `'+'`};\r\n  }\r\n`\r\n\r\nexport default (props) => <Bonus {...props}>{determinMod(props.value)}</Bonus>;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport B from './Bonus';\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.dark};\r\n    width: 32%;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    justify-content: center;\r\n    border: 1px solid ${props => props.theme.almostblack};\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nconst Bonus = styled(B)`\r\n  font-size: 1.5em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.25vw;\r\n  }\r\n`\r\n\r\nclass CharacterStat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, name, syncData, characterID, value, openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'stateditmodal',\r\n      type: 'number',\r\n      title: `Edit ${name}`,\r\n      defaultValue: value,\r\n      min: 0,\r\n      onCancel: () => closeModal({ id: 'stateditmodal' }),\r\n      onConfirm: (newValue) => {\r\n        if (newValue === value) return closeModal({ id: 'stateditmodal' });\r\n\r\n        closeModal({ id: 'stateditmodal' })\r\n        syncData(\r\n          characterID,\r\n          {\r\n            [path]: newValue\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Bonus value={value} />\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CharacterStat;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Name from './CharacterName';\r\nimport Class from './CharacterClass';\r\nimport HP from './HP';\r\nimport EXP from './EXP';\r\nimport ArmorClass from './ArmorClass';\r\nimport Speed from './Speed';\r\nimport Initiative from './Initiative';\r\nimport Proficiency from './Proficiency';\r\nimport PassivePerception from './PassivePerception';\r\nimport HitDice from './HitDice';\r\nimport Stat from './Stat';\r\n\r\nconst Container = styled.div`\r\n  transition: 0.5s;\r\n  position: fixed;\r\n  z-index: 50;\r\n  top: 0;\r\n  width: 85%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  background: linear-gradient(50deg, rgba(146, 146, 146, 0.02) 0%, rgba(146, 146, 146, 0.02) 25%,rgba(82, 82, 82, 0.02) 25%, rgba(82, 82, 82, 0.02) 50%,rgba(217, 217, 217, 0.02) 50%, rgba(217, 217, 217, 0.02) 75%,rgba(41, 41, 41, 0.02) 75%, rgba(41, 41, 41, 0.02) 100%),linear-gradient(252deg, rgba(126, 126, 126, 0.01) 0%, rgba(126, 126, 126, 0.01) 25%,rgba(117, 117, 117, 0.01) 25%, rgba(117, 117, 117, 0.01) 50%,rgba(219, 219, 219, 0.01) 50%, rgba(219, 219, 219, 0.01) 75%,rgba(41, 41, 41, 0.01) 75%, rgba(41, 41, 41, 0.01) 100%),linear-gradient(272deg, rgba(166, 166, 166, 0.01) 0%, rgba(166, 166, 166, 0.01) 20%,rgba(187, 187, 187, 0.01) 20%, rgba(187, 187, 187, 0.01) 40%,rgba(238, 238, 238, 0.01) 40%, rgba(238, 238, 238, 0.01) 60%,rgba(204, 204, 204, 0.01) 60%, rgba(204, 204, 204, 0.01) 80%,rgba(5, 5, 5, 0.01) 80%, rgba(5, 5, 5, 0.01) 100%),linear-gradient(86deg, rgba(143, 143, 143, 0.02) 0%, rgba(143, 143, 143, 0.02) 12.5%,rgba(36, 36, 36, 0.02) 12.5%, rgba(36, 36, 36, 0.02) 25%,rgba(23, 23, 23, 0.02) 25%, rgba(23, 23, 23, 0.02) 37.5%,rgba(223, 223, 223, 0.02) 37.5%, rgba(223, 223, 223, 0.02) 50%,rgba(101, 101, 101, 0.02) 50%, rgba(101, 101, 101, 0.02) 62.5%,rgba(94, 94, 94, 0.02) 62.5%, rgba(94, 94, 94, 0.02) 75%,rgba(148, 148, 148, 0.02) 75%, rgba(148, 148, 148, 0.02) 87.5%,rgba(107, 107, 107, 0.02) 87.5%, rgba(107, 107, 107, 0.02) 100%),linear-gradient(25deg, rgba(2, 2, 2, 0.02) 0%, rgba(2, 2, 2, 0.02) 16.667%,rgba(51, 51, 51, 0.02) 16.667%, rgba(51, 51, 51, 0.02) 33.334%,rgba(26, 26, 26, 0.02) 33.334%, rgba(26, 26, 26, 0.02) 50.001000000000005%,rgba(238, 238, 238, 0.02) 50.001%, rgba(238, 238, 238, 0.02) 66.668%,rgba(128, 128, 128, 0.02) 66.668%, rgba(128, 128, 128, 0.02) 83.33500000000001%,rgba(21, 21, 21, 0.02) 83.335%, rgba(21, 21, 21, 0.02) 100.002%),linear-gradient(325deg, rgba(95, 95, 95, 0.03) 0%, rgba(95, 95, 95, 0.03) 14.286%,rgba(68, 68, 68, 0.03) 14.286%, rgba(68, 68, 68, 0.03) 28.572%,rgba(194, 194, 194, 0.03) 28.572%, rgba(194, 194, 194, 0.03) 42.858%,rgba(51, 51, 51, 0.03) 42.858%, rgba(51, 51, 51, 0.03) 57.144%,rgba(110, 110, 110, 0.03) 57.144%, rgba(110, 110, 110, 0.03) 71.42999999999999%,rgba(64, 64, 64, 0.03) 71.43%, rgba(64, 64, 64, 0.03) 85.71600000000001%,rgba(31, 31, 31, 0.03) 85.716%, rgba(31, 31, 31, 0.03) 100.002%),linear-gradient(90deg, hsl(80,0%,14%),hsl(80,0%,14%));\r\n  border-left: 1px solid ${props => props.theme.almostblack};\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n\r\n  right: ${props => props.isOpen ? '0' : '-100%'};\r\n\r\n  @media screen and (device-aspect-ratio: 40/71) {\r\n    width: 100%;\r\n  }\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 25%;\r\n    position: static;\r\n    background: transparent;\r\n    border: none;\r\n  }\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst TopRow = styled(Row)`\r\n  width: 100%;\r\n`\r\n\r\nconst BottomContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    margin: 5px;\r\n  }\r\n`\r\n\r\nconst MenuItem = styled.a`\r\n  padding: 10px 15px;\r\n  text-decoration: none;\r\n  font-size: 2.3em;\r\n  color: ${props => props.theme.text};\r\n  display: block;\r\n`\r\n\r\nconst CloseButton = styled(MenuItem)`\r\n  font-size: 3em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst SideInfo = (props) => {\r\n  const { open, requestClose, char, syncData, openModal, closeModal } = props;\r\n  const { name, job, hp: { current, max, temp }, exp, stats, ac, speed, initiative, proficiency, passivePerception, hitdice } = char;\r\n\r\n  const extraProps = { syncData, characterID: char._id, openModal, closeModal }\r\n\r\n  return (\r\n    <Container isOpen={open}>\r\n      <TopRow>\r\n        <CloseButton onClick={requestClose}>&times;</CloseButton>\r\n      </TopRow>\r\n\r\n      <BottomContainer>\r\n        <Name name={name} {...extraProps} />\r\n        <Class job={job} exp={exp} {...extraProps} />\r\n\r\n        <HP current={current} max={max} temp={temp} {...extraProps} />\r\n        <EXP current={exp} {...extraProps} />\r\n\r\n        <Row>\r\n          <ArmorClass name='AC' path='ac' value={ac} {...extraProps} />\r\n          <Speed name='SPD' path='speed' value={speed} {...extraProps} /> \r\n          <Initiative name='INIT' path='initiative' value={initiative} {...extraProps} />\r\n        </Row>\r\n        <Row>\r\n          <Proficiency name='PROF' path='proficiency' value={proficiency} {...extraProps} />\r\n          <PassivePerception path='passivePerception' value={passivePerception} {...extraProps} />\r\n          <HitDice path='hitdice' value={hitdice} {...extraProps} />\r\n        </Row>\r\n\r\n        <Row>\r\n          <Stat name='STR' path='stats.strength' value={stats.strength} {...extraProps} />\r\n          <Stat name='DEX' path='stats.dexterity' value={stats.dexterity} {...extraProps} />\r\n          <Stat name='CON' path='stats.constitution' value={stats.constitution} {...extraProps} />\r\n        </Row>\r\n        <Row>\r\n          <Stat name='INT' path='stats.intelligence' value={stats.intelligence} {...extraProps} />\r\n          <Stat name='WIS' path='stats.wisdom' value={stats.wisdom} {...extraProps} />\r\n          <Stat name='CHA' path='stats.charisma' value={stats.charisma} {...extraProps}s />\r\n        </Row>\r\n      </BottomContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SideInfo;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../components/Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 20px;\r\n  padding-top: 70px;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 15px;\r\n  }\r\n`\r\n\r\nconst TopContainer = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  align-items: center;\r\n`\r\n\r\nconst BottomContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 10px 0;\r\n  padding-top: 0px;\r\n`\r\n\r\nconst Apperance = styled.div`\r\n  position: relative;\r\n  border-radius: 50%;\r\n  width: 80px;\r\n  height: 80px;\r\n  background: url(${props => props.src});\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  margin-right: 15px;\r\n`\r\n\r\nconst Level = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: ${props => props.theme.blue};\r\n  position: absolute;\r\n  bottom: -5px;\r\n  right: 5px;\r\n  width: 25px;\r\n  height: 25px;\r\n  text-align: center;\r\n  border-radius: 50%;\r\n  color: ${props => props.theme.text};\r\n  font-family: OpenSans;\r\n  font-weight: 200;\r\n  font-size: 0.9em;\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  font-size: 1em;\r\n`\r\n\r\nconst SubValue = styled(Text)`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: .9em;\r\n`\r\n\r\nfunction Property({ title, value }) {\r\n  return (\r\n    <PropertyContainer>\r\n      <Title>{title}</Title>\r\n      <SubValue>{value}</SubValue>\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nfunction InfoTab({ char }) {\r\n  const { name, job, race, background, alignment, backstory } = char;\r\n\r\n  return (\r\n    <Container>\r\n      <TopContainer>\r\n        <Apperance><Level>6</Level></Apperance>\r\n        <BottomContainer>\r\n          <Title>{name}</Title>\r\n          <SubValue>{job}</SubValue>\r\n        </BottomContainer>\r\n      </TopContainer>\r\n      <BottomContainer>\r\n\r\n        <Row>\r\n          <Property title='Background' value={background} />\r\n          <Property title='Race' value={race} />\r\n        </Row>\r\n        <Row>\r\n          <Property title='Alignment' value={alignment} />\r\n          <Property title='Age' value='26' />\r\n        </Row>\r\n        <Property title='Backstory' value={backstory} />\r\n      </BottomContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default InfoTab;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport { determinMod } from '../helpers'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0 5px;\r\n  width: 100%;\r\n  margin-top: 5px;\r\n`\r\n\r\nconst CheckBox = styled.div`\r\n  height: 1.8em;\r\n  width: 1.8em;\r\n  background-color: ${props => props.checked ? props.theme[props.color || 'green'] || props.color : props.theme.grey};\r\n  margin-right: 5px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n  padding: 0 5px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.3em;\r\n  }\r\n`\r\n\r\nconst Value = styled(Text)`\r\n  text-decoration: underline ${props => props.theme.grey};\r\n  margin-right: 5px;\r\n`\r\n\r\nclass SavingThrow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange() {\r\n    const { characterID, syncData, throws, skill } = this.props;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [`savingThrows.${skill}`]: !throws[skill]\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { throws, skill, stats, prof } = this.props;\r\n\r\n    const efficient = throws[skill]\r\n    const mod = determinMod(stats[skill]);\r\n\r\n    return (\r\n      <Container>\r\n        <CheckBox onClick={this.handleChange} checked={efficient} />\r\n\r\n        <Value>\r\n          {\r\n            (efficient ? mod + prof : mod) < 0 ? \r\n              (efficient ? mod + prof : mod) :\r\n              `+${(efficient ? mod + prof : mod) }`\r\n          }\r\n        </Value>\r\n\r\n        <Text>{skill || 'saving throw'}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SavingThrow;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport SavingThrow from './SavingThrow';\r\nimport Text from './Text';\r\n\r\nconst STR = 'strength'\r\nconst DEX = 'dexterity'\r\nconst CON = 'constitution'\r\nconst INT = 'intelligence'\r\nconst WIS = 'wisdom'\r\nconst CHA = 'charisma'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  margin-bottom: 5px;\r\n  font-size: 2em;\r\n  border-bottom: 1px solid ${props => props.theme.gold};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.6em;\r\n  }\r\n`\r\n\r\nconst SavingThrows = (props) => {\r\n  return (\r\n    <Container>\r\n      <Title>Saving Throws</Title>\r\n\r\n      <SavingThrow key='1' skill={STR} {...props} />\r\n\r\n      <SavingThrow key='2' skill={DEX} {...props} />\r\n\r\n      <SavingThrow key='3' skill={CON} {...props} />\r\n\r\n      <SavingThrow key='4' skill={INT} {...props} />\r\n\r\n      <SavingThrow key='5' skill={WIS} {...props} />\r\n\r\n      <SavingThrow key='6' skill={CHA} {...props} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SavingThrows;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../components/Text';\r\n\r\nconst Backdrop = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n\r\n  background-color: rgba(0, 0, 0, .3);\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 80%;\r\n\r\n  padding: 0 20px;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 5px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 35%;\r\n  }\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.8em;\r\n  padding-top: 10px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst ProfText = styled(Text)`\r\n  width: 2em;\r\n`\r\n\r\nconst CheckBox = styled.div`\r\n  background-color: ${props => props.checked ? props.theme[props.color] : props.theme.grey};\r\n  width: 2em;\r\n  height: 2em;\r\n`\r\n\r\nconst Button = styled.div`\r\n  background-color: ${props => props.theme[props.color]};\r\n  color: ${props => props.theme.text};\r\n  padding: 10px;\r\n  font-size: 1.5em;\r\n  border-radius: 4px;\r\n`\r\n\r\nclass SelectProficiency extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { efficient } = props;\r\n\r\n    this.state = {\r\n      value: efficient\r\n    }\r\n\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  changeValue(value) {\r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n\r\n  confirmChange() {\r\n    const { characterID, syncData, requestClose, skill, efficient } = this.props;\r\n    const { value } = this.state;\r\n\r\n    if (value === efficient) return requestClose();\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [`skills.${skill}`]: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { title, requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <Backdrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n          <Title>{title.toUpperCase()}</Title>\r\n\r\n          <Row>\r\n            <ProfText>not</ProfText>\r\n            <ProfText>half</ProfText>\r\n            <ProfText>prof</ProfText>\r\n            <ProfText>expert</ProfText>\r\n          </Row>\r\n          <Row>\r\n            <CheckBox color='text' checked={value === 0} onClick={() => this.changeValue(0)} />\r\n            <CheckBox color='blue' checked={value === 1} onClick={() => this.changeValue(1)} />\r\n            <CheckBox color='green' checked={value === 2} onClick={() => this.changeValue(2)} />\r\n            <CheckBox color='gold' checked={value === 3} onClick={() => this.changeValue(3)} />\r\n          </Row>\r\n\r\n          <Row>\r\n            <Button color='red' onClick={requestClose}>cancel</Button>\r\n            <Button color='green' onClick={this.confirmChange}>confirm</Button>\r\n          </Row>\r\n        </Container>\r\n      </Backdrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SelectProficiency;","\r\nconst skills = {\r\n  'acrobatics': 'dexterity',\r\n  'animalHandling': 'wisdom',\r\n  'arcana': 'intelligence',\r\n  'athletics': 'strength',\r\n  'deception': 'charisma',\r\n  'history': 'intelligence',\r\n  'insight': 'wisdom',\r\n  'intimidation': 'charisma',\r\n  'investigation': 'intelligence',\r\n  'medicine': 'wisdom',\r\n  'nature': 'intelligence',\r\n  'perception': 'wisdom',\r\n  'performance': 'charisma',\r\n  'persuasion': 'charisma',\r\n  'religion': 'intelligence',\r\n  'sleightOfHand': 'dexterity',\r\n  'stealth': 'dexterity',\r\n  'survival': 'wisdom'\r\n}\r\n\r\nexport const skillToStat = skill => skills[skill] || null\r\n\r\nexport default skills;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport SelectProficiency from '../modals/SelectProficiency';\r\n\r\nimport { skillToStat } from '../data/skills';\r\nimport { determinMod } from '../helpers'\r\n\r\nconst modForStage = {\r\n  0: (mod) => mod,\r\n  1: (mod, prof) => mod + Math.floor((prof / 2)),\r\n  2: (mod, prof) => mod + prof,\r\n  3: (mod, prof) => mod + (prof * 2)\r\n}\r\n\r\nconst skillMap = {\r\n  'animalHandling': 'animal handling',\r\n  'sleightOfHand': 'sleight of hand'\r\n}\r\n\r\nconst stageMap = { 1: 'blue', 2: 'green', 3: 'gold' }\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0 5px;\r\n  margin-top: 5px;\r\n`\r\n\r\nconst CheckBox = styled.div`\r\n  height: 1.8em;\r\n  width: 1.8em;\r\n  background-color: ${props => props.checked ? props.theme[props.color || 'green'] || props.color : props.theme.grey};\r\n  margin-right: 5px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n  }\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n  padding: 0 5px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1.3em;\r\n  }\r\n`\r\n\r\nconst Value = styled(Text)`\r\n  text-decoration: underline ${props => props.theme.grey};\r\n  margin-right: 5px;\r\n`\r\n\r\nclass Skill extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    const { characterID, openModal, closeModal, syncData, skills, skill } = this.props;\r\n\r\n    openModal({\r\n      id: 'selectproficiencymodal',\r\n      type: 'custom',\r\n      content: <SelectProficiency title={skillMap[skill] || skill} characterID={characterID} efficient={skills[skill]} skills={skills} skill={skill} syncData={syncData} requestClose={() => closeModal({ id: 'selectproficiencymodal' })} />\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    const { stats, skills, skill, prof } = this.props;\r\n\r\n    const efficient = skills[skill]\r\n\r\n    const value = stats[skillToStat(skill)];\r\n\r\n    const mod = determinMod(value);\r\n\r\n    return (\r\n      <Container>\r\n        <CheckBox onClick={this.handleClick} checked={efficient !== 0} color={stageMap[efficient]} />\r\n\r\n        <Value>\r\n          {\r\n            modForStage[efficient](mod, prof) < 0 ?\r\n              modForStage[efficient](mod, prof) :\r\n              `+${modForStage[efficient](mod, prof)}`\r\n          }  \r\n        </Value>\r\n\r\n        <Text>{skillMap[skill] || skill}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Skill;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Skill from './Skill';\r\nimport Text from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  margin-bottom: 5px;\r\n  font-size: 2em;\r\n  border-bottom: 1px solid ${props => props.theme.gold};\r\n`\r\n\r\nconst AC = 'acrobatics';\r\nconst AH = 'animalHandling';\r\nconst AR = 'arcana';\r\nconst AT = 'athletics';\r\nconst DE = 'deception';\r\nconst HI = 'history';\r\nconst IN = 'insight';\r\nconst INT = 'intimidation';\r\nconst INV = 'investigation';\r\nconst MED = 'medicine';\r\nconst NAT = 'nature';\r\nconst PER = 'perception';\r\nconst PERF = 'performance';\r\nconst PERS = 'persuasion';\r\nconst REL = 'religion';\r\nconst SOH = 'sleightOfHand';\r\nconst STE = 'stealth';\r\nconst SUR = 'survival';\r\n\r\nconst Skills = (props) => {\r\n  return (\r\n    <Container>\r\n      <Title>Skills</Title>\r\n\r\n      <Skill key='1' skill={AC} {...props} />\r\n      <Skill key='2' skill={AH} {...props} />\r\n      <Skill key='3' skill={AR} {...props} />\r\n      <Skill key='4' skill={AT} {...props} />\r\n      <Skill key='5' skill={DE} {...props} />\r\n      <Skill key='6' skill={HI} {...props} />\r\n      <Skill key='7' skill={IN} {...props} />\r\n      <Skill key='8' skill={INT} {...props} />\r\n      <Skill key='9' skill={INV} {...props} />\r\n      <Skill key='10' skill={MED} {...props} />\r\n      <Skill key='11' skill={NAT} {...props} />\r\n      <Skill key='12' skill={PER} {...props} />\r\n      <Skill key='13' skill={PERF} {...props} />\r\n      <Skill key='14' skill={PERS} {...props} />\r\n      <Skill key='15' skill={REL} {...props} />\r\n      <Skill key='16' skill={SOH} {...props} />\r\n      <Skill key='17' skill={STE} {...props} />\r\n      <Skill key='18' skill={SUR} {...props} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Skills;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n/*\r\nimport SkillContainer from '../components/SkillContainer';\r\nimport SavingThrow from '../components/SavingThrow';\r\nimport Skill from '../components/Skill';\r\n*/\r\n\r\n//import Proficiencies from '../components/Proficiencies';\r\nimport SavingThrows from '../components/SavingThrows';\r\nimport Skills from '../components/Skills';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 10px 15px;\r\n  padding-top: 70px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 10px 15px;\r\n  }\r\n`\r\n\r\nconst ContentContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst SkillsTab = ({ char, syncData, openModal, closeModal }) => {\r\n  const { savingThrows, skills, stats, proficiency, _id } = char;\r\n\r\n  const propInfo = { characterID: _id, prof: proficiency, stats, skills, throws: savingThrows, syncData, openModal, closeModal }\r\n\r\n  return (\r\n    <Container>\r\n      <ContentContainer>\r\n        <SavingThrows throws={savingThrows} {...propInfo} />\r\n        <Skills skills={skills} {...propInfo} />\r\n        \r\n        {\r\n          /*\r\n          <SkillContainer title='Strength'>\r\n            <SavingThrow skill='strength' {...propInfo} />\r\n            <Skill skill='athletics' {...propInfo} />\r\n          </SkillContainer>\r\n          <SkillContainer title='Dexterity'>\r\n            <SavingThrow skill='dexterity' {...propInfo} />\r\n            <Skill skill='acrobatics' {...propInfo} />\r\n            <Skill skill='sleightOfHand' {...propInfo} />\r\n            <Skill skill='stealth' {...propInfo} />\r\n          </SkillContainer>\r\n          <SkillContainer title='Constitution'>\r\n            <SavingThrow skill='constitution' {...propInfo} />\r\n          </SkillContainer>\r\n          <SkillContainer title='Intelligence'>\r\n            <SavingThrow skill='intelligence' {...propInfo} />\r\n            <Skill skill='arcana' {...propInfo} />\r\n            <Skill skill='history' {...propInfo} />\r\n            <Skill skill='investigation' {...propInfo} />\r\n            <Skill skill='nature' {...propInfo} />\r\n            <Skill skill='religion' {...propInfo} />\r\n          </SkillContainer>\r\n          <SkillContainer title='Wisdom'>\r\n            <SavingThrow skill='wisdom' {...propInfo} />\r\n            <Skill skill='animalHandling' {...propInfo} />\r\n            <Skill skill='insight' {...propInfo} />\r\n            <Skill skill='medicine' {...propInfo} />\r\n            <Skill skill='perception' {...propInfo} />\r\n            <Skill skill='survival' {...propInfo} />\r\n          </SkillContainer>\r\n          <SkillContainer title='Charisma'>\r\n            <SavingThrow skill='charisma' {...propInfo} />\r\n            <Skill skill='deception' {...propInfo} />\r\n            <Skill skill='intimidation' {...propInfo} />\r\n            <Skill skill='performance' {...propInfo} />\r\n            <Skill skill='persuasion' {...propInfo} />\r\n          </SkillContainer>\r\n          */\r\n        }\r\n      </ContentContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SkillsTab;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 5px 5px;\r\n  width: 100%;\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding: 5px;\r\n  border-bottom: 1px solid ${props => props.theme.gold};\r\n  background-color: ${props => props.hcolor ? props.theme[props.hcolor] : 'transparent'};\r\n`\r\n\r\nconst HeaderText = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n`\r\n\r\nconst ListSection = ({ title, Component, filter = () => true, data = [], headerColor, HeaderExtra = () => null, onClick = () => {}, showOnEmpty = false }) => {\r\n  const filterdData = data.filter(filter);\r\n\r\n  if (filterdData.length === 0 && showOnEmpty === false) return null;\r\n\r\n  return (\r\n    <Container>\r\n      <Header hcolor={headerColor}>\r\n        <HeaderText>{title}</HeaderText>\r\n        <HeaderExtra />\r\n      </Header>\r\n      <div>\r\n        {\r\n          filterdData.map((item, i) => {\r\n            return (\r\n              <Component item={item} {...item} index={i} key={item.id} onClick={() => onClick(item)} />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ListSection;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  user-select: none;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.4em;\r\n`\r\n\r\nconst SlotOption = styled(Text)`\r\n  background-color: ${props => props.cast ? props.theme.red : props.theme.green};\r\n  border-radius: 4px;\r\n  padding: 0 2px;\r\n  width: 30px;\r\n  text-align: center;\r\n  margin-right: 5px;\r\n`\r\n\r\nconst SpellSlots = ({ slots: { current, max }, onClick, edit, level }) => {\r\n  return (\r\n    <Container>\r\n      <SlotOption onClick={() => edit(level, { current: current + 1, max })}>+1</SlotOption>\r\n      <SlotOption onClick={() => edit(level, { current: current - 1, max })} cast>-1</SlotOption>\r\n      <Text onClick={() => onClick(level)}>{current}/{max}</Text>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SpellSlots;","\r\nexport const spellDefaults = {\r\n  name: 'Custom Spell',\r\n  level: 0,\r\n  school: 'A',\r\n  ritual: false,\r\n  casttime: '',\r\n  range: '',\r\n  duration: '',\r\n  concentration: false,\r\n  verbal: false,\r\n  somatic: false,\r\n  material: '',\r\n  description: '',\r\n  higherlevels: ''\r\n}\r\n\r\nexport const itemDefaults = {\r\n  name: 'Custom Item',\r\n  rarity: 'N',\r\n  category: 'G',\r\n  magic: false,\r\n  attackStat: 'AUTO',\r\n  attackBonus: '',\r\n  damageStat: 'AUTO',\r\n  additionalDamage: '',\r\n  damage1: '2d6',\r\n  damage2: '',\r\n  range: '',\r\n  longRange: '',\r\n  properties: [],\r\n  requirements: [],\r\n  modifiers: [],\r\n  weight: 0,\r\n  quantity: 1,\r\n  value: 0,\r\n  desc: '',\r\n  reqAttune: false,\r\n  charges: '',\r\n  sources: []\r\n}\r\n\r\nexport const featDefaults = {\r\n  name: 'Custom Feature',\r\n  uses: 0,\r\n  desc: ''\r\n}\r\n\r\nexport const boolOptions = [{ value: false, label: 'False' }, { value: true, label: 'True' }]\r\n\r\nexport const sizes = {\r\n  'T': 'Tiny', 'S': 'Small', 'M': 'Medium', 'L': 'Large', 'H': 'Huge', 'G': 'Gargantuan'\r\n}\r\n\r\nexport const spellLevels = [\r\n  { value: 0, label: 'Cantrip' }, { value: 1, label: 'First' }, { value: 2, label: 'Second' }, { value: 3, label: 'Third' }, { value: 4, label: 'Fourth' }, { value: 5, label: 'Fifth' }, { value: 6, label: 'Sixth' }, { value: 7, label: 'Seventh' }, { value: 8, label: 'Eigth' }, { value: 9, label: 'Nineth' }\r\n]\r\n\r\nexport const schoolTypes = {\r\n  'ALL': 'All', 'A': 'Abjuration', 'C': 'Conjuration', 'D': 'Divinitation', 'E': 'Enchantment',\r\n  'V': 'Evocation', 'I': 'Illusion', 'N': 'Necromancy', 'T': 'Transmutation'\r\n}\r\n\r\nexport const schoolFilters = Object.keys(schoolTypes).map(key => ({\r\n  value: key,\r\n  label: schoolTypes[key]\r\n}))\r\n\r\nexport const schoolOptions = schoolFilters.filter((key, index) => index !== 0)\r\n\r\nexport const statTypes = {\r\n  'AUTO': 'Automatic', 'STR': 'Strength', 'DEX': 'Dexterity', 'CON': 'Constitution',\r\n  'INT': 'Intelligence', 'WIS': 'Wisdom', 'CHA': 'Charisma'\r\n}\r\n\r\nexport const statOptions = Object.keys(statTypes).map(key => ({\r\n  value: key,\r\n  label: statTypes[key]\r\n}))\r\n\r\nexport const rarityTypes = {\r\n  'N': 'None', 'C': 'Common', 'U': 'Uncommon', 'R': 'Rare', 'VR': 'Very Rare',\r\n  'L': 'Legendary', 'A': 'Artifact', 'UK': 'Unknown', 'UKM': 'Unknown (Magic)',\r\n  'V': 'Varies'\r\n}\r\n\r\nexport const rarityOptions = Object.keys(rarityTypes).map(key => ({\r\n  value: key,\r\n  label: rarityTypes[key]\r\n}))\r\n\r\nexport const itemTypes = {\r\n  'ALL': 'All', 'G': 'Adventuring Gear', 'LA': 'Light Armor', 'MA': 'Medium Armor', 'HA': 'Heavy Armor',\r\n  'S': 'Shield', 'M': 'Melee Weapon', 'R': 'Ranged Weapon', 'A': 'Ammunition', 'RD': 'Rod', 'T': 'Tools',\r\n  'ST': 'Staff', 'WD': 'Wand', 'RG': 'Ring', 'P': 'Potion', 'SC': 'Scroll', 'W': 'Wondrous Item',\r\n  'WE': 'Wealth', 'SCF': 'Spellcasting Focus', 'AT': 'Artison Tools', 'INS': 'Musical Instrument'\r\n}\r\n\r\nexport const typeFilters = Object.keys(itemTypes).map(key => ({\r\n  value: key,\r\n  label: itemTypes[key]\r\n}))\r\n\r\nexport const typeOptions = typeFilters.filter((key, index) => index !== 0);\r\n\r\nexport const damageTypes = {\r\n  'AUTO': 'Automatic', 'A': 'Acid', 'B': 'Bludgeoning', 'C': 'Cold', 'F': 'Fire', 'FO': 'Force',\r\n  'L': 'Lightning', 'N': 'Necrotic', 'P': 'Piercing', 'PO': 'Poison',\r\n  'PS': 'Psychic', 'R': 'Radiant', 'S': 'Slashing', 'T': 'Thunder'\r\n}\r\n\r\nexport const damageOptions = Object.keys(damageTypes).map(key => ({\r\n  value: key,\r\n  label: damageTypes[key]\r\n}))\r\n\r\nexport const propertyTypes = {\r\n  'LD': 'loading', 'L': 'light', 'F': 'finesse', 'T': 'thrown',\r\n  'H': 'heavy', 'R': 'reach', '2H': 'two-handed', 'V': 'versatile', 'S': 'special',\r\n  'RLD': 'reload', 'BF': 'Burst Fire', 'M': 'Martial', 'A': 'Ammunition'\r\n}\r\n\r\nexport const propOptions = Object.keys(propertyTypes).map(key => ({\r\n  value: key,\r\n  label: propertyTypes[key]\r\n}))","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport { schoolTypes } from '../data/constants';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 5px;\r\n\r\n  ${props => (Math.abs(props.index % 2) === 1) && css`\r\n    background-color: rgba(0, 0, 0, .17);\r\n  `}\r\n`\r\n\r\nconst InnerContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Header = styled(T)`\r\n  font-size: 1.2em;\r\n`\r\n\r\nconst SubText = styled(T)`\r\n  color: rgba(255, 255, 255, .7);\r\n`\r\n\r\nconst Spell = ({ item, name, school, source, verbal, somatic, material, id, onClick, index }) => {\r\n  const components = []\r\n\r\n  if (verbal) components.push('V');\r\n  if (somatic) components.push('S');\r\n  if (material) components.push('M');\r\n\r\n  return (\r\n    <Container index={index} key={id} onClick={() => onClick(item)}>\r\n      <InnerContainer>\r\n        <Header>{name}</Header>\r\n      </InnerContainer>\r\n      <InnerContainer>\r\n        <SubText>{schoolTypes[school]} ({components.join(', ')})</SubText>\r\n      </InnerContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Spell;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst SelectContainer = styled.select`\r\n  color: ${props => props.theme.text};\r\n  border: none;\r\n  background: transparent;\r\n  font-size: 1em;\r\n`\r\n\r\n\r\nconst Select = (props) => {\r\n  const { value, options, multi = false, onChange } = props;\r\n\r\n  return (\r\n    <SelectContainer onChange={({ target: { value } }) => onChange(value)} defaultValue={value} multiple={multi}>\r\n      {\r\n        options.map(({ value, label }, i) => <option value={value}>{label}</option>)\r\n      }\r\n    </SelectContainer>\r\n  )\r\n}\r\n\r\nexport default Select;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../../components/Text';\r\nimport Select from '../../components/Select';\r\nimport TextArea from 'react-textarea-autosize';\r\n\r\nimport { spellLevels, schoolOptions, boolOptions } from '../../data/constants';\r\n\r\nconst DesktopHeader = styled.div`\r\n  display: none;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  z-index: 50;\r\n  top: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  height: auto;\r\n  padding: 0 15px;\r\n  padding-top: 60px;\r\n  transition: 0.5s;\r\n  background-color: ${props => props.theme.dark};\r\n\r\n  right: ${props => props.creatingSpell ? '0' : '-100%'};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding-top: 0;\r\n  }\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst Input = styled.input`\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n  border: none;\r\n  color: ${props => props.theme.text};\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n  font-family: 'OpenSans';\r\n\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: .9em;\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px 0;\r\n  width: ${props => props.full ? '100%' : '50%'};\r\n`\r\n\r\nconst Property = (props) => {\r\n  const { title, value, placeholder, type, options, multi = false, full = false, callback } = props;\r\n\r\n  return (\r\n    <PropertyContainer full={full}>\r\n      <Title>{title}</Title>\r\n\r\n      {\r\n        (type && type === 'select') ?\r\n          <Select value={value} options={options} multi={multi} onChange={callback} /> :\r\n          <Input type={type ? type : 'text'} placeholder={placeholder} value={value} onChange={({ target: { value } }) => callback(value)} />\r\n      }\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nconst EditSpell = (props) => {\r\n  const { editSpell, creatingSpell,\r\n    showSpells, confirm,\r\n    spellData: {\r\n      name, level, school, ritual, casttime,\r\n      range, duration, concentration, verbal,\r\n      somatic, material, description, higherlevels\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <Container creatingSpell={creatingSpell}>\r\n      <DesktopHeader>\r\n        <Text onClick={showSpells}>Back</Text>\r\n\r\n        <Title>Editing {name}</Title>\r\n\r\n        <Text onClick={confirm}>Confirm</Text>\r\n      </DesktopHeader>\r\n\r\n      <Row>\r\n        <Property title='Name' placeholder='Fireball' value={name} callback={(value) => editSpell('name', value)} />\r\n        <Property title='Level' value={level} options={spellLevels} type='select' callback={(value) => editSpell('level', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='School' value={school} options={schoolOptions} type='select' callback={(value) => editSpell('school', value)} />\r\n        <Property title='Ritual' value={ritual} options={boolOptions} type='select' callback={(value) => editSpell('ritual', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='Casting Time' placeholder='1 Action' value={casttime} callback={(value) => editSpell('casttime', value)} />\r\n        <Property title='Range' placeholder='30 feet' value={range} callback={(value) => editSpell('range', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='Duration' placeholder='1 minute' value={duration} callback={(value) => editSpell('duration', value)} />\r\n        <Property title='Concentration' type='select' value={concentration} options={boolOptions} callback={(value) => editSpell('concentration', value)} />\r\n      </Row>\r\n\r\n      <Row>\r\n        <Property title='Verbal' value={verbal} options={boolOptions} type='select' callback={(value) => editSpell('verbal', value)} />\r\n        <Property title='Somatic' value={somatic} options={boolOptions} type='select' callback={(value) => editSpell('somatic', value)} />\r\n      </Row>\r\n      <Property title='Material' placeholder='A bit of sponge' value={material} callback={(value) => editSpell('material', value)} />\r\n\r\n      <Text margin='10px 0 0' color='gold'>Description</Text>\r\n      <TextArea placeholder='Spell description goes here' value={description} onChange={(event) => editSpell('description', event.target.value)} />\r\n\r\n      <Text margin='10px 0 0' color='gold'>Higher Levels</Text>\r\n      <TextArea placeholder='When you cast this spell using a spell slot of 5th level or higher, the bludgeoning damage increases by 1d8 for each slot level above 4th.' value={higherlevels} onChange={(event) => editSpell('higherlevels', event.target.value)} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default EditSpell;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n// import Select from '../atms/Select';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst SearchContainer = styled(Container)`\r\n  background-color: rgba(114, 118, 125, .3);\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n  border-radius: 5px;\r\n`\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  background: transparent;\r\n  border: 1px solid black;\r\n\r\n  height: 44px;\r\n  font-size: 1.2em;\r\n  font-weight: 200;\r\n  font-family: OpenSans;\r\n\r\n  color: white;\r\n  border: none;\r\n  outline: none;\r\n\r\n  padding: 0 12px;\r\n  box-shadow: none;\r\n\r\n  &::placeholder {\r\n    color: rgba(255, 255, 255, .6);\r\n  }\r\n`\r\n\r\nconst SearchIcons = styled(Container)`\r\n  height: 44px;\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n  line-height: 44px;\r\n`\r\n\r\nconst Select = styled.select`\r\n  appearance: none;\r\n  padding: 0 15px;\r\n  background-color: rgba(32, 34, 37, .3);\r\n  font-size: 1.2em;\r\n  color: ${props => props.theme.text};\r\n  font-family: OpenSans;\r\n  font-weight: 200;\r\n  outline: none;\r\n  border: none;\r\n`\r\n\r\nconst Search = ({ bgStyle, ph, onSearch, value, onFilter, filters = [], currentFilter }) => {\r\n  return (\r\n    <SearchContainer direction='row' style={bgStyle}>\r\n      <SearchInput placeholder={ph} spellcheck='false' value={value} onChange={onSearch} />\r\n      <SearchIcons direction='row'>\r\n        <Select>\r\n          <option>ALL</option>\r\n        </Select>\r\n      </SearchIcons>\r\n    </SearchContainer>\r\n  )\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '../../components/Button';\r\n\r\nimport ListSection from '../../components/ListSection';\r\nimport SearchInput from '../../components/Search';\r\nimport Spell from '../../components/Spell';\r\n\r\nimport { schoolFilters } from '../../data/constants';\r\n\r\nimport srdSpells from '../../data/spells.json';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100% - 60px);\r\n  width: 100%;\r\n  padding: 15px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    height: 100%;\r\n  }\r\n`\r\n\r\nconst List = styled.div`\r\n  overflow-y: auto;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst CustomButton = styled(Button)`\r\n\r\n`\r\n\r\nconst listFilter = (level) => (spell) => spell.level === level\r\n\r\nconst Search = ({ onSearch, search, filter, changeFilter, openSpell, limit }) => {\r\n\r\n  const filteredSrd = srdSpells.filter(spell => spell.name.toLowerCase().includes(search.toLowerCase())).slice(0, 25)\r\n\r\n  return (\r\n    <Container>\r\n      <SearchInput onSearch={onSearch} value={search} ph='Search Spells...' filters={schoolFilters} currentFilter={filter} onFilter={changeFilter}\r\n        bgStyle={{ backgroundColor: '#72767D', boxShadow: '0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1)' }}\r\n      />\r\n\r\n      <List>\r\n        <ListSection title='Cantrips' headerColor='dark' data={filteredSrd} filter={listFilter(0)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='First Level' headerColor='dark' data={filteredSrd} filter={listFilter(1)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Second Level' headerColor='dark' data={filteredSrd} filter={listFilter(2)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Third Level' headerColor='dark' data={filteredSrd} filter={listFilter(3)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Fourth Level' headerColor='dark' data={filteredSrd} filter={listFilter(4)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Fifth Level' headerColor='dark' data={filteredSrd} filter={listFilter(5)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Sixth Level' headerColor='dark' data={filteredSrd} filter={listFilter(6)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Seventh Level' headerColor='dark' data={filteredSrd} filter={listFilter(7)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Eigth Level' headerColor='dark' data={filteredSrd} filter={listFilter(8)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Nineth Level' headerColor='dark' data={filteredSrd} filter={listFilter(9)} Component={Spell} onClick={openSpell} />\r\n      </List>\r\n      <CustomButton onClick={() => openSpell()}>Custom</CustomButton>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport EditSpell from './EditSpell';\r\nimport Header from '../../components/Header';\r\nimport Search from './Search';\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../../helpers';\r\n\r\nimport { spellDefaults } from '../../data/constants';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 60px 0 15px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass AddSpell extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'ALL',\r\n      search: '',\r\n      limit: 25,\r\n      creatingSpell: false,\r\n      spell: cloneDeep(spellDefaults)\r\n    }\r\n\r\n    this.changeFilter = this.changeFilter.bind(this)\r\n    this.onSearch = this.onSearch.bind(this)\r\n    this.openSpell = this.openSpell.bind(this)\r\n    this.showSpells = this.showSpells.bind(this)\r\n    this.editSpell = this.editSpell.bind(this)\r\n    this.onConfirm = this.onConfirm.bind(this)\r\n  }\r\n\r\n  changeFilter(filter) {\r\n    this.setState({ filter })\r\n  }\r\n\r\n  onSearch(event) {\r\n    this.setState({ search: event.target.value })\r\n  }\r\n\r\n  // change the modal to show a item for approval / customization\r\n  // before adding it to the item list.\r\n  openSpell(spell) {\r\n    if (spell) return this.setState({ creatingSpell: true, spell: merge({}, spellDefaults, spell) })\r\n\r\n    this.setState({\r\n      creatingSpell: true,\r\n      spell: cloneDeep(spellDefaults)\r\n    })\r\n  }\r\n\r\n  showSpells() {\r\n    this.setState({\r\n      creatingSpell: false\r\n    })\r\n  }\r\n\r\n  editSpell(path, data) {\r\n    this.setState({ spell: merge({}, this.state.spell, { [path]: data }) })\r\n  }\r\n\r\n  onConfirm() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const id = nanoid(lowercased, 24)\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        spells: mergeUpdates(this.props.spells, [{ ...this.state.spell, id, new: true }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { search, filter, limit, creatingSpell } = this.state;\r\n    const { requestClose } = this.props;\r\n\r\n    return (\r\n      <Container onMouseDown={(e) => e.stopPropagation()} creating={creatingSpell}>\r\n        <Header title={creatingSpell ? 'Edit Spell' : 'Add Spell'}\r\n          LeftComponent={BackButton} leftClick={creatingSpell ? this.showSpells : requestClose}\r\n          RightComponent={creatingSpell ? ConfirmButton : undefined}\r\n          rightClick={this.onConfirm}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n        <Search onSearch={this.onSearch} search={search} limit={limit} openSpell={this.openSpell} filter={filter} changeFilter={this.changeFilter} /> :\r\n        <EditSpell showSpells={this.showSpells} confirm={this.onConfirm} editSpell={this.editSpell} spellData={this.state.spell} creatingSpell={creatingSpell} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddSpell;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M429.548 30.836c-.307-.003-.6.005-.875.024-2.212.147-3.34.653-4.576 1.89l-27.58 27.58 55.156 55.154 27.578-27.58c1.238-1.236 1.744-2.363 1.89-4.575.15-2.21-.37-5.433-1.805-9.163-2.87-7.46-9.277-16.667-17.055-24.445-7.778-7.778-16.985-14.185-24.445-17.055-3.264-1.255-6.138-1.81-8.287-1.83zm-45.758 42.22l-9.9 9.9 9.9 9.9 12.727 12.727 9.9 9.9 12.727 12.728 9.9 9.9 9.9-9.9-55.155-55.155zm-22.627 22.626L72.665 384.186l9.898 9.897 288.5-288.5-9.9-9.9zm22.627 22.63L95.29 406.808l9.9 9.902 288.5-288.5-9.9-9.9zm22.63 22.626l-288.502 288.5 9.897 9.9 288.503-288.5-9.9-9.9zM63.223 400.198l-12.12 30.306 30.393 30.394 30.305-12.12-6.61-6.612L92.46 429.44l-9.9-9.9-12.73-12.728-6.61-6.612zm-19.395 48.488l-12.993 32.478 32.478-12.992-19.486-19.485z\",\n  fill: \"#fff\",\n  fillOpacity: 1\n});\n\nvar SvgEdit = function SvgEdit(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    style: {\n      height: 512,\n      width: 512\n    },\n    ref: svgRef\n  }, props), React.createElement(\"g\", {\n    className: \"\",\n    transform: \"translate(0,0)\",\n    style: {\n      touchAction: \"none\"\n    }\n  }, _ref2));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEdit, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/edit.c8faf3be.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ReactComponent as Delete } from '../assets/delete.svg';\r\nimport { ReactComponent as Edit } from '../assets/edit.svg';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nfunction ItemOptions({ deleteClick, editClick }) {\r\n  return (\r\n    <Container>\r\n      <Delete style={{ width: '2em', height: '2em' }} onClick={deleteClick} />\r\n      <Edit style={{ width: '2em', height: '2em' }} onClick={editClick} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ItemOptions;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport T from '../components/Text';\r\n\r\nimport EditSpell from './AddSpell/EditSpell';\r\n\r\nimport ItemOptions from '../components/ItemOptions';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../helpers';\r\n\r\nconst BackDrop = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 60px 0 15px;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    border-radius: 8px;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst DesktopOptions = styled.div`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n`\r\n\r\nconst Name = styled(Text)`\r\n  display: none;\r\n  color: ${props => props.theme.gold};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst SubText = styled.span`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1em;\r\n`\r\n\r\nconst Description = styled(Text)`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass SpellInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { spells, spellID } = props;\r\n\r\n    this.state = {\r\n      isEditing: false,\r\n      spell: cloneDeep(spells.find(obj => obj.id === spellID))\r\n    }\r\n\r\n    this.toggleEditing = this.toggleEditing.bind(this)\r\n    this.editSpell = this.editSpell.bind(this)\r\n    this.confirmEdit = this.confirmEdit.bind(this)\r\n    this.deleteSpell = this.deleteSpell.bind(this)\r\n  }\r\n\r\n  toggleEditing() {\r\n    this.setState({\r\n      isEditing: !this.state.isEditing\r\n    })\r\n  }\r\n\r\n  editSpell(path, data) {\r\n    this.setState({ spell: merge({}, this.state.spell, { [path]: data }) })\r\n  }\r\n\r\n  confirmEdit() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        spells: mergeUpdates(this.props.spells, [{ ...this.state.spell }])\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteSpell() {\r\n    const { spellID, requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        spells: mergeUpdates(this.props.spells, [{ remove: true, id: spellID }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { isEditing,\r\n      spell: {\r\n        name, casttime, range, verbal, somatic, material,\r\n        duration, concentration, description, higherlevels\r\n      }\r\n    } = this.state;\r\n\r\n    return (\r\n      <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={isEditing ? `editing ${name}` : name}\r\n          LeftComponent={BackButton} leftClick={isEditing ? this.toggleEditing : requestClose}\r\n          RightComponent={isEditing ? ConfirmButton : () => <ItemOptions deleteClick={this.deleteSpell} editClick={this.toggleEditing} />}\r\n          rightClick={isEditing ? this.confirmEdit : undefined}\r\n          bgStyles={{ zIndex: 60 }}\r\n        />\r\n\r\n        <DesktopOptions>\r\n          <ItemOptions deleteClick={this.deleteSpell} editClick={this.toggleEditing} />\r\n        </DesktopOptions>\r\n\r\n        <InfoContainer>\r\n          <Name>{name}</Name>\r\n          <Text>CastTime: <SubText>{casttime}</SubText></Text>\r\n          <Text>Range: <SubText>{range}</SubText></Text>\r\n          <Text>Components: <SubText>{verbal ? 'V, ' : ''} {somatic ? 'S, ' : ''} {material ? `M (${material})` : ''}</SubText></Text>\r\n          <Text>Duration: <SubText>{concentration ? `Concentration, up to ${duration}` : duration}</SubText></Text>\r\n          <Description>Description: <SubText>{description}</SubText></Description>\r\n          <Text>Higher Levels:<SubText>{higherlevels}</SubText></Text>\r\n        </InfoContainer>\r\n        <EditSpell showSpells={this.toggleEditing} confirm={this.confirmEdit} editSpell={this.editSpell} spellData={this.state.spell} creatingSpell={isEditing} />\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SpellInfo;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport ListSection from '../components/ListSection';\r\nimport SpellSlots from '../components/SpellSlots';\r\nimport Spell from '../components/Spell';\r\nimport Text from '../components/Text';\r\n\r\nimport AddSpellModal from '../modals/AddSpell';\r\nimport SpellInfoModal from '../modals/SpellInfo';\r\n\r\nimport { merge } from '../helpers';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px 15px;\r\n  padding-top: 70px;\r\n  overflow-y: auto;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 5px;\r\n  }\r\n`\r\n\r\nconst EmptyText = styled(Text)`\r\n  font-size: 2em;\r\n  display: ${props => props.empty ? 'block' : 'none'};\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n\r\n`\r\n\r\nconst AddSpell = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 7px 19px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    right: 50%;\r\n    bottom: 20px;\r\n  }\r\n`\r\n\r\nconst listFilter = (level) => (spell) => spell.level === level\r\n\r\nclass SpellsTab extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateSpellslots = this.updateSpellslots.bind(this);\r\n  }\r\n\r\n  updateSpellslots(level, slots) {\r\n    const { char: { _id, spellSlots }, syncData } = this.props;\r\n\r\n    syncData(\r\n      _id,\r\n      {\r\n        spellSlots: merge(spellSlots, { [level]: slots })\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      char: { spells, spellSlots, _id },\r\n      syncData, openModal, closeModal\r\n    } = this.props;\r\n\r\n    const extraProps = { onClick: (spell) => openModal({\r\n      id: 'spellinfomodal',\r\n      type: 'custom',\r\n      closeModal: () => closeModal({ id: 'spellinfomodal' }),\r\n      content: <SpellInfoModal characterID={_id} spells={spells} spellID={spell.id} syncData={syncData} requestClose={() => closeModal({ id: 'spellinfomodal' })} />\r\n    }), data: spells, Component: Spell }\r\n\r\n    return (\r\n      <Container>\r\n        <EmptyText empty={spells.length === 0}>\r\n          Looks like you don't have any spells, try adding some :(\r\n        </EmptyText>\r\n\r\n        <ListContainer>\r\n          <ListSection title='Cantrips' filter={listFilter(0)} {...extraProps} />\r\n          <ListSection title='First Level' filter={listFilter(1)} HeaderExtra={() => <SpellSlots slots={spellSlots.one} onClick={() => { }} edit={this.updateSpellslots} level='one' />} {...extraProps} />\r\n          <ListSection title='Second Level' filter={listFilter(2)} HeaderExtra={() => <SpellSlots slots={spellSlots.two} onClick={() => { }} edit={this.updateSpellslots} level='two' />} {...extraProps} />\r\n          <ListSection title='Third Level' filter={listFilter(3)} HeaderExtra={() => <SpellSlots slots={spellSlots.three} onClick={() => { }} edit={this.updateSpellslots} level='three' />} {...extraProps} />\r\n          <ListSection title='Fourth Level' filter={listFilter(4)} HeaderExtra={() => <SpellSlots slots={spellSlots.four} onClick={() => { }} edit={this.updateSpellslots} level='four' />} {...extraProps} />\r\n          <ListSection title='Fifth Level' filter={listFilter(5)} HeaderExtra={() => <SpellSlots slots={spellSlots.five} onClick={() => { }} edit={this.updateSpellslots} level='five' />} {...extraProps} />\r\n          <ListSection title='Sixth Level' filter={listFilter(6)} HeaderExtra={() => <SpellSlots slots={spellSlots.six} onClick={() => { }} edit={this.updateSpellslots} level='six' />} {...extraProps} />\r\n          <ListSection title='Seventh Level' filter={listFilter(7)} HeaderExtra={() => <SpellSlots slots={spellSlots.seven} onClick={() => { }} edit={this.updateSpellslots} level='seven' />} {...extraProps} />\r\n          <ListSection title='Eigth Level' filter={listFilter(8)} HeaderExtra={() => <SpellSlots slots={spellSlots.eight} onClick={() => { }} edit={this.updateSpellslots} level='eight' />} {...extraProps} />\r\n          <ListSection title='Nineth Level' filter={listFilter(9)} HeaderExtra={() => <SpellSlots slots={spellSlots.nine} onClick={() => { }} edit={this.updateSpellslots} level='nine' />} {...extraProps} />\r\n        </ListContainer>\r\n\r\n        <AddSpell onClick={() => openModal({\r\n          id: 'spelladdmodal',\r\n          type: 'custom',\r\n          content: <AddSpellModal spells={spells} characterID={_id} requestClose={() => closeModal({ id: 'spelladdmodal' })} syncData={syncData} />\r\n        })}>&#43;</AddSpell>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SpellsTab;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\n//import { itemTypes } from '../data/constants';\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    font-size: 1em;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 5px;\r\n  align-items: center;\r\n\r\n  flex-direction: row;\r\n\r\n  ${props => (Math.abs(props.index % 2) === 1) && css`\r\n    background-color: rgba(0, 0, 0, .17);\r\n  `}\r\n`\r\n\r\nconst EquippedCheckbox = styled.div`\r\n  width: 1.2em;\r\n  height: 1.2em;\r\n  border: 1px solid ${props => props.theme.gold};\r\n  border-radius: 50%;\r\n  margin-right: 10px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: .9em;\r\n    height: .9em;\r\n  }\r\n`\r\n\r\nconst InnerContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  flex-direction: row;\r\n`\r\n\r\nconst Item = ({ index, id, name, quantity, category, weight, value, onClick }) => {\r\n  return (\r\n    <Container onClick={onClick} key={id} index={index}>\r\n      <EquippedCheckbox />\r\n      <InnerContainer>\r\n        <Text>{name}</Text>\r\n        <Text>{quantity > 1 ? quantity : ''}</Text>\r\n      </InnerContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Item;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../../components/Text';\r\nimport Select from '../../components/Select';\r\nimport TextArea from 'react-textarea-autosize';\r\n\r\nimport { rarityOptions, typeOptions, boolOptions, statOptions } from '../../data/constants';\r\n\r\nconst DesktopHeader = styled.div`\r\n  display: none;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  z-index: 50;\r\n  top: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  height: auto;\r\n  padding: 0 15px;\r\n  padding-top: 60px;\r\n  transition: 0.5s;\r\n  background-color: ${props => props.theme.dark};\r\n\r\n  right: ${props => props.creatingItem ? '0' : '-100%'};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding-top: 0;\r\n  }\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst Input = styled.input`\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n  border: none;\r\n  color: ${props => props.theme.text};\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n  font-family: 'OpenSans';\r\n\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.2em;\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px 0;\r\n  width: ${props => props.full ? '100%' : '50%'};\r\n  border-bottom: 1px solid grey;\r\n`\r\n\r\nconst Property = (props) => {\r\n  const { title, value, placeholder, type, options, multi = false, full = false, callback } = props;\r\n\r\n  return (\r\n    <PropertyContainer full={full}>\r\n      <Title>{title}</Title>\r\n\r\n      {\r\n        (type && type === 'select') ?\r\n          <Select value={value} options={options} multi={multi} onChange={callback} /> :\r\n          <Input type={type ? type : 'text'} placeholder={placeholder} value={value} onChange={({ target: { value } }) => callback(value)} />\r\n      }\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nconst EditItem = (props) => {\r\n  const { editItem, creatingItem,\r\n    showItems, confirm,\r\n    itemData: {\r\n      name, magic, rarity, desc, category, quantity,\r\n      range, longRange, attackStat, attackBonus, damageStat,\r\n      damage1, damage2, additionalDamage, value, weight\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <Container creatingItem={creatingItem}>\r\n      <DesktopHeader>\r\n        <Text onClick={showItems}>Back</Text>\r\n\r\n        <Title>Editing {name}</Title>\r\n\r\n        <Text onClick={confirm}>Confirm</Text>\r\n      </DesktopHeader>\r\n      <Row>\r\n        <Property title='Name' placeholder='Greatsword' value={name} callback={(value) => editItem('name', value)} />\r\n        <Property title='Rarity' value={rarity} options={rarityOptions} type='select' callback={(value) => editItem('rarity', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='Category' value={category} options={typeOptions} type='select' callback={(value) => editItem('category', value)} />\r\n        <Property title='Magic Item' value={magic} options={boolOptions} type='select' callback={(value) => editItem('magic', value)} />\r\n      </Row>\r\n\r\n      {\r\n        ['M', 'R'].includes(category) ? (\r\n          <>\r\n            <Row>\r\n              <Property title='Range' type='number' value={range} placeholder='15' callback={(value) => editItem('range', value)} />\r\n              <Property title='Long Range' type='number' value={longRange} placeholder='30' callback={(value) => editItem('longRange', value)} />\r\n            </Row>\r\n            <Row>\r\n              <Property title='Attack Stat' value={attackStat} options={statOptions} callback={(value) => editItem('attackStat', value)} type='select' />\r\n              <Property title='Attack Bonus' value={attackBonus} placeholder='0' callback={(value) => editItem('attackBonus', value)} />\r\n            </Row>\r\n            <Row>\r\n              <Property title='Damage Stat' value={damageStat} options={statOptions} callback={(value) => editItem('damageStat', value)} type='select' />\r\n              <Property title='Additional Damage' value={additionalDamage} placeholder='2d6' callback={(value) => editItem('additionalDamage', value)} />\r\n            </Row>\r\n            <Row>\r\n              <Property title='Damage (one-handed)' value={damage1} placeholder='1d8' callback={(value) => editItem('damage1', value)} />\r\n              <Property title='Damage (two-handed)' value={damage2} placeholder='1d10' callback={(value) => editItem('damage2', value)} />\r\n            </Row>\r\n          </>\r\n        ) : ''\r\n      }\r\n\r\n      <Row>\r\n        <Property title='Value' value={value} placeholder='50 gp' callback={(value) => editItem('value', Number(value))} />\r\n        <Property title='Weight (in lb)' value={weight} type='number' callback={(value) => editItem('weight', Number(value))} />\r\n      </Row>\r\n\r\n      <Property title='quantity' value={quantity} type='number' callback={(value) => editItem('quantity', Number(value))} />\r\n\r\n      <Title>Description</Title>\r\n      <TextArea placeholder='Item description goes here' value={desc} onChange={(event) => editItem('desc', event.target.value)} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default EditItem;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '../../components/Button';\r\n\r\nimport SearchInput from '../../components/Search';\r\nimport Item from '../../components/Item';\r\n\r\nimport { typeFilters } from '../../data/constants';\r\n\r\nimport srdEquipment from '../../data/equipment.json';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n  padding: 15px;\r\n`\r\n\r\nconst List = styled.div`\r\n  overflow-y: auto;\r\n  padding: 10px 0;\r\n`\r\n\r\nconst CustomButton = styled(Button)`\r\n\r\n`\r\n\r\nconst Search = ({ onSearch, search, filter, changeFilter, openItem, limit }) => {\r\n  const filteredSrd = srdEquipment.filter(item => item.name.toLowerCase().includes(search.toLowerCase()))\r\n\r\n  return (\r\n    <Container>\r\n      <SearchInput onSearch={onSearch} value={search} ph='Search Equipment...' filters={typeFilters} currentFilter={filter} onFilter={changeFilter}\r\n        bgStyle={{ backgroundColor: '#72767D', boxShadow: '0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1)' }}\r\n      />\r\n\r\n      <List>\r\n        {\r\n          filteredSrd.map((item, i) => {\r\n            return (\r\n              <Item {...item} index={i} key={item.id} onClick={() => openItem(item)} />\r\n            )\r\n          }).slice(0, 25)\r\n        }\r\n      </List>\r\n      <CustomButton onClick={() => openItem()}>Custom</CustomButton>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport EditItem from './EditItem';\r\nimport Header from '../../components/Header';\r\nimport Search from './Search';\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../../helpers';\r\n\r\nimport { itemDefaults } from '../../data/constants';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 60px 0 15px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass AddItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'ALL',\r\n      search: '',\r\n      limit: 25,\r\n      creatingItem: false,\r\n      item: cloneDeep(itemDefaults)\r\n    }\r\n\r\n    this.changeFilter = this.changeFilter.bind(this)\r\n    this.onSearch = this.onSearch.bind(this)\r\n    this.openItem = this.openItem.bind(this)\r\n    this.showItems = this.showItems.bind(this)\r\n    this.editItem = this.editItem.bind(this)\r\n    this.onConfirm = this.onConfirm.bind(this)\r\n  }\r\n\r\n  changeFilter(filter) {\r\n    this.setState({ filter })\r\n  }\r\n\r\n  onSearch(event) {\r\n    this.setState({ search: event.target.value })\r\n  }\r\n\r\n  // change the modal to show a item for approval / customization\r\n  // before adding it to the item list.\r\n  openItem(item) {\r\n    if (item) return this.setState({ creatingItem: true, item: merge({}, itemDefaults, item) })\r\n\r\n    this.setState({\r\n      creatingItem: true,\r\n      item: cloneDeep(itemDefaults)\r\n    })\r\n  }\r\n\r\n  showItems() {\r\n    this.setState({\r\n      creatingItem: false\r\n    })\r\n  }\r\n\r\n  editItem(path, data) {\r\n    this.setState({ item: merge({}, this.state.item, { [path]: data }) })\r\n  }\r\n\r\n  onConfirm() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const id = nanoid(lowercased, 24)\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        items: mergeUpdates(this.props.items, [{ ...this.state.item, id, new: true }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { search, filter, limit, creatingItem } = this.state;\r\n    const { requestClose } = this.props;\r\n\r\n    return (\r\n      <Container creating={creatingItem}>\r\n        <Header title={creatingItem ? 'Edit Item' : 'Add Item'}\r\n          LeftComponent={BackButton} leftClick={creatingItem ? this.showItems : requestClose}\r\n          RightComponent={creatingItem ? ConfirmButton : undefined}\r\n          rightClick={this.onConfirm}\r\n          bgStyles={{ zIndex: 60 }}\r\n        />\r\n        <Search openItem={this.openItem} onSearch={this.onSearch} search={search} limit={limit} filter={filter} changeFilter={this.changeFilter} />\r\n        <EditItem showItems={this.showItems} confirm={this.onConfirm} itemData={this.state.item} editItem={this.editItem} creatingItem={creatingItem} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddItem;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport T from '../components/Text';\r\n\r\nimport EditItem from './AddItem/EditItem';\r\n\r\nimport ItemOptions from '../components/ItemOptions';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../helpers';\r\nimport { itemTypes, propertyTypes } from '../data/constants';\r\n\r\nconst BackDrop = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 60px 0 15px;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    border-radius: 8px;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst DesktopOptions = styled.div`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n`\r\n\r\nconst Name = styled(Text)`\r\n  display: none;\r\n  color: ${props => props.theme.gold};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst SubText = styled.span`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1em;\r\n`\r\n\r\nconst Description = styled(Text)`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass ItemInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { items, itemID } = props;\r\n\r\n    this.state = {\r\n      isEditing: false,\r\n      item: cloneDeep(items.find(obj => obj.id === itemID))\r\n    }\r\n\r\n    this.toggleEditing = this.toggleEditing.bind(this)\r\n    this.editItem = this.editItem.bind(this)\r\n    this.confirmEdit = this.confirmEdit.bind(this)\r\n    this.deleteItem = this.deleteItem.bind(this)\r\n  }\r\n\r\n  toggleEditing() {\r\n    this.setState({\r\n      isEditing: !this.state.isEditing\r\n    })\r\n  }\r\n\r\n  editItem(path, data) {\r\n    this.setState({ item: merge({}, this.state.item, { [path]: data }) })\r\n  }\r\n\r\n  confirmEdit() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        items: mergeUpdates(this.props.items, [{ ...this.state.item }])\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteItem() {\r\n    const { itemID, requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        items: mergeUpdates(this.props.items, [{ remove: true, id: itemID }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { isEditing,\r\n      item: {\r\n        name, desc, category, range, longRange,\r\n        damage1, damage2, value, weight, properties = []\r\n      }\r\n    } = this.state;\r\n\r\n    return (\r\n      <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={isEditing ? `editing ${name}` : name}\r\n          LeftComponent={BackButton} leftClick={isEditing ? this.toggleEditing : requestClose}\r\n          RightComponent={isEditing ? ConfirmButton : () => <ItemOptions deleteClick={this.deleteItem} editClick={this.toggleEditing} />}\r\n          rightClick={isEditing ? this.confirmEdit : undefined}\r\n          bgStyles={{ zIndex: 60 }}\r\n        />\r\n\r\n        <DesktopOptions>\r\n          <ItemOptions deleteClick={this.deleteItem} editClick={this.toggleEditing} />\r\n        </DesktopOptions>\r\n\r\n        <InfoContainer>\r\n          <Name>{name}</Name>\r\n          <Text><SubText>{itemTypes[category]}</SubText></Text>\r\n\r\n          {\r\n            ['M', 'R'].includes(category) ?\r\n              <>\r\n                <Text>Range: <SubText>{range}/{longRange}</SubText></Text>\r\n                <Text>Damage {damage2 ? '(one-handed)' : ''}: <SubText>{damage1}</SubText></Text>\r\n                {damage2 && <Text>Damage (two-handed): <SubText>{damage2}</SubText></Text>}\r\n                <Text>Properties: <SubText>{properties.map(prop => propertyTypes[prop]).join(', ')}</SubText></Text>\r\n              </> : null\r\n          }\r\n          <Text>Value: <SubText>{value}</SubText></Text>\r\n          <Text>Weight: <SubText>{weight} lbs</SubText></Text>\r\n\r\n          <Description><SubText>{desc}</SubText></Description>\r\n        </InfoContainer>\r\n        <EditItem showItems={this.toggleEditing} confirm={this.confirmEdit} itemData={this.state.item} editItem={this.editItem} creatingItem={isEditing} />\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ItemInfo;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Item from '../components/Item';\r\nimport Text from '../components/Text';\r\n\r\nimport AddItemModal from '../modals/AddItem';\r\nimport ItemInfoModal from '../modals/ItemInfo';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px 15px;\r\n  padding-top: 70px;\r\n  overflow-y: auto;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 5px;\r\n  }\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n\r\n`\r\n\r\nconst AddEquipment = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 7px 19px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n  cursor: pointer;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    right: 50%;\r\n    bottom: 20px;\r\n  }\r\n`\r\n\r\nconst Rows = styled.div`\r\n  margin-top: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  flex-direction: row;\r\n`\r\n\r\nconst InnerRows = styled.div`\r\n  padding: 0 10px;\r\n  display: flex;\r\n  flex: 1;\r\n\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  flex-direction: row;\r\n`\r\n\r\nconst RowText = styled(Text)`\r\n  font-size: 0.6em;\r\n`\r\n\r\nclass EquipmentTab extends Component {\r\n\r\n  render() {\r\n    const {\r\n      char: { items, _id },\r\n      syncData, openModal, closeModal\r\n    } = this.props;\r\n\r\n    return (\r\n      <Container>\r\n\r\n        <Rows>\r\n          <RowText>EQUIP</RowText>\r\n          <InnerRows>\r\n            <RowText>NAME</RowText>\r\n            <RowText>QUANTITY</RowText>\r\n          </InnerRows>\r\n        </Rows>\r\n        <ListContainer>\r\n          {\r\n            items.map((item, i) => {\r\n              return (\r\n                <Item {...item} index={i} key={item.id} onClick={() => openModal({\r\n                  id: 'iteminfomodal',\r\n                  type: 'custom',\r\n                  content: <ItemInfoModal characterID={_id} items={items} itemID={item.id} syncData={syncData} requestClose={() => closeModal({ id: 'iteminfomodal' })} />\r\n                })} />\r\n              )\r\n            })\r\n          }\r\n        </ListContainer>\r\n\r\n        <AddEquipment onClick={() => openModal({\r\n          id: 'itemaddmodal',\r\n          type: 'custom',\r\n          content: <AddItemModal items={items} characterID={_id} requestClose={() => closeModal({ id: 'itemaddmodal' })} syncData={syncData} />\r\n        })}>&#43;</AddEquipment>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EquipmentTab;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../components/Text';\r\n\r\nimport Section from '../components/ListSection';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px 15px;\r\n  padding-top: 70px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  font-size: 2em;\r\n`\r\n\r\nconst AddButton = () => {\r\n  return (\r\n    <Title>&#43;</Title>\r\n  )\r\n}\r\n\r\nclass CombatTab extends Component {\r\n  render() {\r\n    return (\r\n      <Container>\r\n\r\n        <Section title='Conditions' HeaderExtra={() => <AddButton />} showOnEmpty />\r\n\r\n        <Section title='Attacks' showOnEmpty />\r\n\r\n        <Section title='Creatures' showOnEmpty />\r\n\r\n      \r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CombatTab;","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Text from './Text';\r\n\r\nexport default class ClampLines extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.element = React.createRef();\r\n    this.original = props.text;\r\n    this.watch = true;\r\n    this.lineHeight = 0;\r\n    this.start = 0;\r\n    this.middle = 0;\r\n    this.end = 0;\r\n    this.uuid = props.id;\r\n    this.state = {\r\n      expanded: true,\r\n      noClamp: false,\r\n      text: props.text.substring(0, 20),\r\n    };\r\n\r\n    this.action = this.action.bind(this);\r\n\r\n    this.debounced = this.debounce(this.action, props.delay);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.text) {\r\n      this.lineHeight = this.element.current.clientHeight + 1;\r\n      this.clampLines();\r\n\r\n      if (this.watch) {\r\n        window.addEventListener('resize', this.debounced);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.debounced);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.text !== this.props.text) {\r\n      this.original = this.props.text;\r\n      this.clampLines();\r\n    }\r\n  }\r\n\r\n  debounce(func, wait, immediate) {\r\n    let timeout;\r\n\r\n    return () => {\r\n      let context = this,\r\n        args = arguments;\r\n      let later = () => {\r\n        timeout = null;\r\n        if (!immediate) func.apply(context, args);\r\n      };\r\n      let callNow = immediate && !timeout;\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n      if (callNow) func.apply(context, args);\r\n    };\r\n  }\r\n\r\n  action() {\r\n    if (this.watch) {\r\n      this.setState({\r\n        noClamp: false,\r\n      });\r\n      this.clampLines();\r\n      this.setState({ expanded: !this.state.expanded });\r\n    }\r\n  }\r\n\r\n  clampLines() {\r\n    if (!this.element) return;\r\n\r\n    this.setState({\r\n      text: '',\r\n    });\r\n\r\n    let maxHeight = this.lineHeight * this.props.lines + 1;\r\n\r\n    this.start = 0;\r\n    this.middle = 0;\r\n    this.end = this.original.length;\r\n\r\n    while (this.start <= this.end) {\r\n      this.middle = Math.floor((this.start + this.end) / 2);\r\n      this.element.current.innerText = this.original.slice(0, this.middle);\r\n      if (this.middle === this.original.length) {\r\n        this.setState({\r\n          text: this.original,\r\n          noClamp: true,\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.moveMarkers(maxHeight);\r\n    }\r\n\r\n    this.element.current.innerText =\r\n      this.original.slice(0, this.middle - 5) + this.getEllipsis();\r\n    this.setState({\r\n      text: this.original.slice(0, this.middle - 5) + this.getEllipsis(),\r\n    });\r\n  }\r\n\r\n  moveMarkers(maxHeight) {\r\n    if (this.element.current.clientHeight <= maxHeight) {\r\n      this.start = this.middle + 1;\r\n    } else {\r\n      this.end = this.middle - 1;\r\n    }\r\n  }\r\n\r\n  getEllipsis() {\r\n    return this.watch && !this.state.noClamp ? this.props.ellipsis : '';\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.text) {\r\n      return null;\r\n    }\r\n\r\n    const Element = this.props.component || Text;\r\n\r\n    return (\r\n      <Element ref={this.element}>\r\n        {this.state.text}\r\n      </Element>\r\n    );\r\n  }\r\n}\r\n\r\nClampLines.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  lines: PropTypes.number,\r\n  ellipsis: PropTypes.string,\r\n  className: PropTypes.string,\r\n  delay: PropTypes.number,\r\n  stopPropagation: PropTypes.bool,\r\n  innerElement: PropTypes.string,\r\n};\r\n\r\nClampLines.defaultProps = {\r\n  lines: 3,\r\n  ellipsis: '...',\r\n  delay: 300,\r\n  innerElement: 'div',\r\n  text: ''\r\n};","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport T from './Text';\r\nimport Clamp from './Clamp';\r\n\r\nimport { renderReq } from '../helpers';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n  flex-direction: column;\r\n\r\n  ${props => (Math.abs(props.index % 2) === 1) && css`\r\n    background-color: rgba(0, 0, 0, .17);\r\n  `}\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Info = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.1em;\r\n`\r\n\r\nconst Description = styled(T)`\r\n  font-size: 1em;\r\n  margin-top: 5px;\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 0.9em;\r\n`\r\n\r\nconst Feature = (props) => {\r\n  const { name, uses, prerequisite, desc, source, index, onClick, showRequirements = false } = props;\r\n\r\n  return (\r\n    <Container index={index} onClick={onClick}>\r\n      <Header width='100%' direction='row' justifyContent='space-between' alignItems='center'>\r\n        <Info>\r\n          <Title>{name} {uses > 0 ? `(x${uses})` : ''}</Title>\r\n          <Text>{showRequirements ? renderReq(prerequisite) : 'Class: Wild Magic'}</Text>\r\n        </Info>\r\n        <Title>{source || 'CUSTOM'}</Title>\r\n      </Header>\r\n\r\n      <Clamp text={desc} component={Description} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Feature;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../../components/Text';\r\nimport Select from '../../components/Select';\r\nimport TextArea from 'react-textarea-autosize';\r\n\r\nconst DesktopHeader = styled.div`\r\n  display: none;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  z-index: 50;\r\n  top: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  height: auto;\r\n  padding: 0 15px;\r\n  padding-top: 60px;\r\n  transition: 0.5s;\r\n  background-color: ${props => props.theme.dark};\r\n\r\n  right: ${props => props.creatingFeat ? '0' : '-100%'};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding-top: 0;\r\n  }\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.2em;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst Input = styled.input`\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n  border: none;\r\n  color: ${props => props.theme.text};\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n  font-family: 'OpenSans';\r\n\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px 0;\r\n  width: ${props => props.full ? '100%' : '50%'};\r\n`\r\n\r\nconst Property = (props) => {\r\n  const { title, value, placeholder, type, options, multi = false, full = false, callback } = props;\r\n\r\n  return (\r\n    <PropertyContainer full={full}>\r\n      <Text color='gold'>{title}</Text>\r\n\r\n      {\r\n        (type && type === 'select') ?\r\n          <Select value={value} options={options} multi={multi} onChange={callback} /> :\r\n          <Input type={type ? type : 'text'} placeholder={placeholder} value={value} onChange={({ target: { value } }) => callback(value)} />\r\n      }\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nconst EditItem = (props) => {\r\n  const { editFeat, creatingFeat,\r\n    showFeats, confirm,\r\n    featData: {\r\n      name, uses, desc\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <Container creatingFeat={creatingFeat}>\r\n      <DesktopHeader>\r\n        <Text onClick={showFeats}>Back</Text>\r\n\r\n        <Title>Editing {name}</Title>\r\n\r\n        <Text onClick={confirm}>Confirm</Text>\r\n      </DesktopHeader>\r\n\r\n      <Row>\r\n        <Property title='Name' placeholder='Greatsword' value={name} callback={(value) => editFeat('name', value)} />\r\n        <Property title='uses' value={uses} type='number' callback={(value) => editFeat('uses', Number(value))} />\r\n      </Row>\r\n\r\n      <Text color='gold'>Description</Text>\r\n      <TextArea placeholder='Item description goes here' value={desc} onChange={(event) => editFeat('desc', event.target.value)} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default EditItem;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '../../components/Button';\r\n\r\nimport SearchInput from '../../components/Search';\r\nimport Feat from '../../components/Feature';\r\n\r\nimport { typeFilters } from '../../data/constants';\r\n\r\nimport srdFeatures from '../../data/features.json';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100% - 60px);\r\n  width: 100%;\r\n  padding: 15px;\r\n`\r\n\r\nconst List = styled.div`\r\n  overflow-y: auto;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst CustomButton = styled(Button)`\r\n\r\n`\r\n\r\nconst Search = ({ onSearch, search, filter, changeFilter, openFeat, limit }) => {\r\n  const filteredSrd = srdFeatures.filter(feat => feat.name.toLowerCase().includes(search.toLowerCase()))\r\n\r\n  return (\r\n    <Container>\r\n      <SearchInput onSearch={onSearch} value={search} ph='Search Features...' filters={typeFilters} currentFilter={filter} onFilter={changeFilter}\r\n        bgStyle={{ backgroundColor: '#72767D', boxShadow: '0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1)' }}\r\n      />\r\n\r\n      <List>\r\n        {\r\n          filteredSrd.map((feat, i) => {\r\n            return (\r\n              <Feat {...feat} index={i} key={feat.id} onClick={() => openFeat(feat)} />\r\n            )\r\n          })\r\n        }\r\n      </List>\r\n      <CustomButton onClick={() => openFeat()}>Custom</CustomButton>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport EditFeature from './EditFeature';\r\nimport Header from '../../components/Header';\r\nimport Search from './Search';\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../../helpers';\r\n\r\nimport { featDefaults } from '../../data/constants';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 60px 0 15px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass AddFeature extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'ALL',\r\n      search: '',\r\n      limit: 25,\r\n      creatingFeat: false,\r\n      feat: cloneDeep(featDefaults)\r\n    }\r\n\r\n    this.changeFilter = this.changeFilter.bind(this)\r\n    this.onSearch = this.onSearch.bind(this)\r\n    this.openFeat = this.openFeat.bind(this)\r\n    this.showFeats = this.showFeats.bind(this)\r\n    this.editFeat = this.editFeat.bind(this)\r\n    this.onConfirm = this.onConfirm.bind(this)\r\n  }\r\n\r\n  changeFilter(filter) {\r\n    this.setState({ filter })\r\n  }\r\n\r\n  onSearch(event) {\r\n    this.setState({ search: event.target.value })\r\n  }\r\n\r\n  // change the modal to show a item for approval / customization\r\n  // before adding it to the item list.\r\n  openFeat(feat) {\r\n    if (feat) return this.setState({ creatingFeat: true, feat: merge({}, featDefaults, feat) })\r\n\r\n    this.setState({\r\n      creatingFeat: true,\r\n      feat: cloneDeep(featDefaults)\r\n    })\r\n  }\r\n\r\n  showFeats() {\r\n    this.setState({\r\n      creatingFeat: false\r\n    })\r\n  }\r\n\r\n  editFeat(path, data) {\r\n    this.setState({ feat: merge({}, this.state.feat, { [path]: data }) })\r\n  }\r\n\r\n  onConfirm() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const id = nanoid(lowercased, 24)\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        feats: mergeUpdates(this.props.feats, [{ ...this.state.feat, id, new: true }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { search, filter, limit, creatingFeat } = this.state;\r\n    const { requestClose } = this.props;\r\n\r\n    return (\r\n      <Container onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={creatingFeat ? 'Edit Feat' : 'Add Feat'}\r\n          LeftComponent={BackButton} leftClick={creatingFeat ? this.showFeats : requestClose}\r\n          RightComponent={creatingFeat ? ConfirmButton : undefined}\r\n          rightClick={this.onConfirm}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n        <Search openFeat={this.openFeat} onSearch={this.onSearch} search={search} limit={limit} filter={filter} changeFilter={this.changeFilter} /> :\r\n        <EditFeature showFeats={this.showFeats} confirm={this.onConfirm} featData={this.state.feat} editFeat={this.editFeat} creatingFeat={creatingFeat} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddFeature;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport T from '../components/Text';\r\n\r\nimport EditFeature from './AddFeature/EditFeature';\r\n\r\nimport ItemOptions from '../components/ItemOptions';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../helpers';\r\n\r\nconst BackDrop = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 60px 0 15px;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    border-radius: 8px;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst DesktopOptions = styled.div`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n`\r\n\r\nconst Name = styled(Text)`\r\n  display: none;\r\n  color: ${props => props.theme.gold};\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst SubText = styled.span`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1em;\r\n`\r\n\r\nconst Description = styled(Text)`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass FeatureInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { feats, featID } = props;\r\n\r\n    this.state = {\r\n      isEditing: false,\r\n      feat: cloneDeep(feats.find(obj => obj.id === featID))\r\n    }\r\n\r\n    this.toggleEditing = this.toggleEditing.bind(this)\r\n    this.editFeat = this.editFeat.bind(this)\r\n    this.confirmEdit = this.confirmEdit.bind(this)\r\n    this.deleteFeat = this.deleteFeat.bind(this)\r\n  }\r\n\r\n  toggleEditing() {\r\n    this.setState({\r\n      isEditing: !this.state.isEditing\r\n    })\r\n  }\r\n\r\n  editFeat(path, data) {\r\n    this.setState({ feat: merge({}, this.state.feat, { [path]: data }) })\r\n  }\r\n\r\n  confirmEdit() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        feats: mergeUpdates(this.props.feats, [{ ...this.state.feat }])\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteFeat() {\r\n    const { featID, requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        feats: mergeUpdates(this.props.feats, [{ remove: true, id: featID }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { isEditing,\r\n      feat: {\r\n        name, uses, desc\r\n      }\r\n    } = this.state;\r\n\r\n    return (\r\n      <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={isEditing ? `editing ${name}` : name}\r\n          LeftComponent={BackButton} leftClick={isEditing ? this.toggleEditing : requestClose}\r\n          RightComponent={isEditing ? ConfirmButton : () => <ItemOptions deleteClick={this.deleteFeat} editClick={this.toggleEditing} />}\r\n          rightClick={isEditing ? this.confirmEdit : undefined}\r\n          bgStyles={{ zIndex: 60 }}\r\n        />\r\n\r\n        <DesktopOptions>\r\n          <ItemOptions deleteClick={this.deleteItem} editClick={this.toggleEditing} />\r\n        </DesktopOptions>\r\n\r\n        <InfoContainer>\r\n          <Name>{name}</Name>\r\n          <Text>Uses: <SubText>{uses}</SubText></Text>\r\n\r\n          <Description><SubText>{desc}</SubText></Description>\r\n        </InfoContainer>\r\n        <EditFeature showFeats={this.toggleEditing} confirm={this.confirmEdit} featData={this.state.feat} editFeat={this.editFeat} creatingFeat={isEditing} />\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FeatureInfo;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Feature from '../components/Feature';\r\nimport Text from '../components/Text';\r\n\r\nimport AddFeatureModal from '../modals/AddFeature';\r\nimport FeatureInfoModal from '../modals/FeatureInfo';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px 15px;\r\n  padding-top: 70px;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    padding: 5px;\r\n  }\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n\r\n`\r\n\r\nconst AddFeature = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 7px 19px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n  cursor: pointer;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    right: 50%;\r\n    bottom: 20px;\r\n  }\r\n`\r\n\r\nclass FeaturesAndTraits extends Component {\r\n\r\n  render() {\r\n    const {\r\n      char: { feats, _id },\r\n      syncData, openModal, closeModal\r\n    } = this.props;\r\n\r\n    return (\r\n      <Container>\r\n        <ListContainer>\r\n          {\r\n            feats.map((feat, i) => {\r\n              return (\r\n                <Feature {...feat} index={i} key={feat.id} onClick={() => openModal({\r\n                  id: 'featureinfomodal',\r\n                  type: 'custom',\r\n                  content: <FeatureInfoModal characterID={_id} feats={feats} featID={feat.id} syncData={syncData} requestClose={() => closeModal({ id: 'featureinfomodal' })} />\r\n                })} />\r\n              )\r\n            })\r\n          }\r\n        </ListContainer>\r\n\r\n        <AddFeature onClick={() => openModal({\r\n          id: 'featureaddmodal',\r\n          type: 'custom',\r\n          content: <AddFeatureModal feats={feats} characterID={_id} requestClose={() => closeModal({ id: 'featureaddmodal' })} syncData={syncData} />\r\n        })}>&#43;</AddFeature>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FeaturesAndTraits;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaInfo, FaRunning } from 'react-icons/fa';\r\nimport { GiSpellBook, GiBackpack, GiSwordBrandish, GiRearAura } from 'react-icons/gi';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  width: 100vw;\r\n  border-top: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.light};\r\n  height: 60px;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\n// just here to give extra color tbh\r\nconst OverlayContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 60px;\r\n  background-color: rgba(32, 34, 37, .3);\r\n`\r\n\r\nconst Icon = styled.div`\r\n  color: ${props => props.selected ? props.theme.gold : props.theme.text};\r\n  font-size: 2em;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n`\r\n\r\nconst CharFooter = ({ selectedTab, changeTab }) => {\r\n  return (\r\n    <Container>\r\n      <OverlayContainer>\r\n        <Icon selected={selectedTab === 'info'} onClick={() => changeTab('info')}><FaInfo /></Icon>\r\n        <Icon selected={selectedTab === 'skills'} onClick={() => changeTab('skills')}><FaRunning /></Icon>\r\n        <Icon selected={selectedTab === 'spells'} onClick={() => changeTab('spells')}><GiSpellBook /></Icon>\r\n        <Icon selected={selectedTab === 'equipment'} onClick={() => changeTab('equipment')}><GiBackpack /></Icon>\r\n        <Icon selected={selectedTab === 'combat'} onClick={() => changeTab('combat')}><GiSwordBrandish /></Icon>\r\n        <Icon selected={selectedTab === 'features'} onClick={() => changeTab('features')}><GiRearAura /></Icon>\r\n      </OverlayContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default CharFooter","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport DesktopTabs from '../components/DesktopTabs';\r\n\r\nimport SideInfo from '../components/SideInfo';\r\n\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\n\r\nimport InfoTab from '../tabs/InfoTab';\r\nimport SkillsTab from '../tabs/SkillsTab';\r\nimport SpellsTab from '../tabs/SpellsTab';\r\nimport EquipmentTab from '../tabs/EquipmentTab';\r\nimport CombatTab from '../tabs/CombatTab';\r\nimport FeaturesAndTraits from '../tabs/FeaturesAndTraits';\r\n\r\nimport Footer from '../components/CharFooter';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { showAddItem, editItem, toggleSideNav } from '../reducers/ui';\r\nimport { openModal, closeModal } from '../reducers/modals';\r\nimport {\r\n  loadOne, changeCharacter, addSpell,\r\n  updateData, revertData, syncData\r\n} from '../reducers/characters';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  @media only screen and (min-width: 768px) {\r\n    background: ${props => props.theme.light};\r\n  }\r\n`\r\n\r\nconst ViewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  width: 100%;\r\n  height: calc(100% - 61px);\r\n  justify-content: space-between;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    height: 100%;\r\n    padding: 0 10px;\r\n  }\r\n`\r\n\r\nconst TabContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 41%;\r\n  }\r\n`\r\n\r\nconst SideInfoButton = styled(FaInfoCircle)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  line-height: 60px;\r\n`\r\n\r\nclass CharacterOverlay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedTab: 'info',\r\n      sideInfoIsOpen: false\r\n    }\r\n\r\n    this.changeTab = this.changeTab.bind(this)\r\n    this.toggleSideInfo = this.toggleSideInfo.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.characterID;\r\n\r\n    if (this.props.characters.length === 0) return this.props.loadOne(id);\r\n\r\n    const newChar = this.props.characters.filter(char => char._id === id);\r\n\r\n    if (newChar.length === 0) return this.props.loadOne(id);\r\n\r\n    this.props.changeCharacter(newChar[0]._id)\r\n  }\r\n\r\n  changeTab(tab) {\r\n    this.setState({\r\n      selectedTab: tab\r\n    })\r\n  }\r\n\r\n  toggleSideInfo() {\r\n    this.setState({\r\n      sideInfoIsOpen: !this.state.sideInfoIsOpen\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedTab, sideInfoIsOpen } = this.state;\r\n    const {\r\n      character, update,\r\n      updateData, revertData,\r\n      toggleSideNav, syncData,\r\n      openModal, closeModal\r\n    } = this.props;\r\n\r\n    if (!character) return null\r\n\r\n    return (\r\n      <Container>\r\n\r\n        <Header\r\n          leftClick={toggleSideNav} title={selectedTab}\r\n          RightComponent={() => <SideInfoButton onClick={this.toggleSideInfo} />}\r\n        />\r\n\r\n        <DesktopTabs selectedTab={selectedTab} changeTab={this.changeTab} />\r\n\r\n        <ViewContainer>\r\n          <TabContainer>\r\n            {\r\n              (selectedTab === 'info') ? <InfoTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> :\r\n\r\n              (selectedTab === 'skills') ? <SkillsTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> :\r\n\r\n              (selectedTab === 'spells') ? <SpellsTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> :\r\n\r\n              (selectedTab === 'equipment') ? <EquipmentTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal}  /> :\r\n\r\n              (selectedTab === 'combat') ? <CombatTab char={character} update={update} editItem={editItem}\r\n              updateData={updateData} revertData={revertData} /> :\r\n\r\n              (selectedTab === 'features') ? <FeaturesAndTraits char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> : ''\r\n            }\r\n          </TabContainer>\r\n\r\n          <SideInfo char={character} open={sideInfoIsOpen} requestClose={this.toggleSideInfo} syncData={syncData} openModal={openModal} closeModal={closeModal} />\r\n        </ViewContainer>\r\n\r\n        <Footer selectedTab={selectedTab} changeTab={this.changeTab} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    characters: state.characters.characters,\r\n    editing: state.ui.editing,\r\n    character: state.characters.character,\r\n    update: state.characters.update.data,\r\n    empty: state.characters.update.empty\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, {\r\n  loadOne, changeCharacter, addSpell,\r\n  showAddItem, editItem, updateData, revertData,\r\n  toggleSideNav, syncData, openModal, closeModal\r\n})(CharacterOverlay));","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport requireAuth from '../components/requireAuth';\r\n\r\nimport Modals from '../modals/Modals';\r\nimport SlideOut from '../components/SlideOut';\r\n\r\nimport Characters from './Characters';\r\nimport Character from './Character';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 100%;\r\n`\r\n\r\nconst ViewContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(50deg, rgba(146, 146, 146, 0.02) 0%, rgba(146, 146, 146, 0.02) 25%,rgba(82, 82, 82, 0.02) 25%, rgba(82, 82, 82, 0.02) 50%,rgba(217, 217, 217, 0.02) 50%, rgba(217, 217, 217, 0.02) 75%,rgba(41, 41, 41, 0.02) 75%, rgba(41, 41, 41, 0.02) 100%),linear-gradient(252deg, rgba(126, 126, 126, 0.01) 0%, rgba(126, 126, 126, 0.01) 25%,rgba(117, 117, 117, 0.01) 25%, rgba(117, 117, 117, 0.01) 50%,rgba(219, 219, 219, 0.01) 50%, rgba(219, 219, 219, 0.01) 75%,rgba(41, 41, 41, 0.01) 75%, rgba(41, 41, 41, 0.01) 100%),linear-gradient(272deg, rgba(166, 166, 166, 0.01) 0%, rgba(166, 166, 166, 0.01) 20%,rgba(187, 187, 187, 0.01) 20%, rgba(187, 187, 187, 0.01) 40%,rgba(238, 238, 238, 0.01) 40%, rgba(238, 238, 238, 0.01) 60%,rgba(204, 204, 204, 0.01) 60%, rgba(204, 204, 204, 0.01) 80%,rgba(5, 5, 5, 0.01) 80%, rgba(5, 5, 5, 0.01) 100%),linear-gradient(86deg, rgba(143, 143, 143, 0.02) 0%, rgba(143, 143, 143, 0.02) 12.5%,rgba(36, 36, 36, 0.02) 12.5%, rgba(36, 36, 36, 0.02) 25%,rgba(23, 23, 23, 0.02) 25%, rgba(23, 23, 23, 0.02) 37.5%,rgba(223, 223, 223, 0.02) 37.5%, rgba(223, 223, 223, 0.02) 50%,rgba(101, 101, 101, 0.02) 50%, rgba(101, 101, 101, 0.02) 62.5%,rgba(94, 94, 94, 0.02) 62.5%, rgba(94, 94, 94, 0.02) 75%,rgba(148, 148, 148, 0.02) 75%, rgba(148, 148, 148, 0.02) 87.5%,rgba(107, 107, 107, 0.02) 87.5%, rgba(107, 107, 107, 0.02) 100%),linear-gradient(25deg, rgba(2, 2, 2, 0.02) 0%, rgba(2, 2, 2, 0.02) 16.667%,rgba(51, 51, 51, 0.02) 16.667%, rgba(51, 51, 51, 0.02) 33.334%,rgba(26, 26, 26, 0.02) 33.334%, rgba(26, 26, 26, 0.02) 50.001000000000005%,rgba(238, 238, 238, 0.02) 50.001%, rgba(238, 238, 238, 0.02) 66.668%,rgba(128, 128, 128, 0.02) 66.668%, rgba(128, 128, 128, 0.02) 83.33500000000001%,rgba(21, 21, 21, 0.02) 83.335%, rgba(21, 21, 21, 0.02) 100.002%),linear-gradient(325deg, rgba(95, 95, 95, 0.03) 0%, rgba(95, 95, 95, 0.03) 14.286%,rgba(68, 68, 68, 0.03) 14.286%, rgba(68, 68, 68, 0.03) 28.572%,rgba(194, 194, 194, 0.03) 28.572%, rgba(194, 194, 194, 0.03) 42.858%,rgba(51, 51, 51, 0.03) 42.858%, rgba(51, 51, 51, 0.03) 57.144%,rgba(110, 110, 110, 0.03) 57.144%, rgba(110, 110, 110, 0.03) 71.42999999999999%,rgba(64, 64, 64, 0.03) 71.43%, rgba(64, 64, 64, 0.03) 85.71600000000001%,rgba(31, 31, 31, 0.03) 85.716%, rgba(31, 31, 31, 0.03) 100.002%),linear-gradient(90deg, hsl(80,0%,14%),hsl(80,0%,14%));\r\n\r\n  @media only screen and (min-width: 768px) {\r\n    width: 89%;\r\n  }\r\n`\r\n\r\nclass Home extends Component {\r\n  // redirect if we're already logged in\r\n  componentDidMount() {\r\n    if (this.props.history.location.pathname === '/') this.props.history.replace('/characters')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Modals />\r\n        <SlideOut />\r\n        <ViewContainer>\r\n          <Switch>\r\n            <Route path='/characters' component={Characters} exact />\r\n            <Route path='/characters/:characterID' component={Character} exact />\r\n          </Switch>\r\n        </ViewContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default requireAuth(Home);","import React from 'react';\r\n\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nimport Login from './views/Login';\r\nimport Signup from './views/Signup';\r\nimport Home from './views/Home';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route path='/login' component={Login} exact />\r\n        <Route path='/signup' component={Signup} exact />\r\n        <Route path='/' component={Home} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default Routes;","import api from '../utility/api';\r\n\r\n/**\r\n * ACTIONS TYPES\r\n * \r\n * These here are our action types defined for later use\r\n */\r\n\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const LOG_OUT = 'LOG_OUT';\r\n\r\n/**\r\n * ACTIONS\r\n * \r\n * Here we define our actions\r\n */\r\n\r\nexport const logIn = (jwt) => (dispatch) => {\r\n  dispatch({\r\n    type: LOG_IN,\r\n    payload: {\r\n      user: api.getProfile(),\r\n      jwt,\r\n    }\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * HANDLERS\r\n * \r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[LOG_IN] = (state, { payload: { user, jwt } }) =>\r\n  Object.assign({}, state, { loggedIn: true, user, jwt });\r\n\r\nactions[LOG_OUT] = (state) =>\r\n  Object.assign({}, state, { loggedIn: false, user: {} });\r\n\r\n/**\r\n * Reducer\r\n */\r\n\r\nconst initialState = {\r\n  loggedIn: false,\r\n  token: api.getToken() || '',\r\n  user: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import { combineReducers } from 'redux';\r\n\r\nimport characters from './characters';\r\nimport user from './user';\r\nimport modals from './modals';\r\nimport ui from './ui';\r\n\r\nconst reducers = combineReducers({\r\n  characters,\r\n  user,\r\n  modals,\r\n  ui\r\n})\r\n\r\nexport default reducers;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport reduxThunk from 'redux-thunk';\r\nimport reducers from './reducers/index';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, {}, composeEnhancers(\r\n  applyMiddleware(reduxThunk)\r\n));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/fonts.css'\nimport './css/index.css'\n\nimport { ThemeProvider } from 'styled-components';\nimport { Provider } from 'react-redux';\n\nimport Routes from './Routes';\n\nimport theme from './theme';\nimport store from './store';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <Routes />\n    </Provider>\n  </ThemeProvider>,\n  \n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\r\nexport default {\r\n  light: '#36393F',\r\n  dark: '#2C2F33',\r\n\r\n  middleblack: '#23272A',\r\n  almostblack:'#202225',\r\n\r\n  grey: '#72767D',\r\n\r\n  text: 'white',\r\n\r\n  extra: '#dcddde',\r\n\r\n  gold: '#FFD569',\r\n  green: '#43B581',\r\n  red: '#FF4848',\r\n  blue: '#337ab7'\r\n}\r\n\r\n/*\r\nexport default {\r\n  dark: '#192227',\r\n  light: '#263238',\r\n\r\n  middleblack: '',\r\n  almostblack: '#0F1518',\r\n\r\n  grey: '#cccccc',\r\n\r\n  text: 'white',\r\n\r\n  gold: '#FFBF51',\r\n  green: '#c3e88d',\r\n  red: '#f07178'\r\n}*/\r\n\r\n/*\r\nconst solarized = {\r\n  base03:    '#002b36',\r\n  base02:    '#073642',\r\n  base01:    '#586e75',\r\n  base00:    '#657b83',\r\n  base0:     '#839496',\r\n  base1:     '#93a1a1',\r\n  base2:     '#eee8d5',\r\n  base3:     '#fdf6e3',\r\n  yellow:    '#b58900',\r\n  orange:    '#cb4b16',\r\n  red:       '#dc322f',\r\n  magenta:   '#d33682',\r\n  violet:    '#6c71c4',\r\n  blue:      '#268bd2',\r\n  cyan:      '#2aa198',\r\n  green:     '#859900',\r\n}\r\n\r\nexport default {\r\n  light: solarized.base3,\r\n  dark: 'rgb(211, 203, 183)',\r\n\r\n  middleblack: solarized.base2,\r\n  almostblack: solarized.base01,\r\n\r\n  grey: solarized.base01,\r\n\r\n  text: solarized.base00,\r\n\r\n  gold: solarized.yellow,\r\n  green: solarized.green,\r\n  red: solarized.red\r\n}\r\n*/"],"sourceRoot":""}